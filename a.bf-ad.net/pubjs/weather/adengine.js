!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=window.Event.prototype,window.CustomEvent=e}(),window.Promise||(window.setImmediate||function(){function n(e){var t;"string"==typeof(e=e.data)&&0===e.indexOf("setImmediatePolyfillMessage")&&(t=i[e])&&(delete i[e],function(e){var t=e[0];switch(e.length){case 1:return t();case 2:return t(e[1]);case 3:return t(e[1],e[2])}t.apply(window,a.call(e,1))}(t))}var o=0,i={},s=!0,a=Array.prototype.slice;window.setImmediate=function(){for(var e=o++,t="setImmediatePolyfillMessage"+e,a=arguments.length,r=Array(a);a--;)r[a]=arguments[a];return i[t]=r,s&&(s=!1,window.addEventListener("message",n)),window.postMessage(t,"*"),e},window.clearImmediate=function(e){delete i["setImmediatePolyfillMessage"+e]}}(),function(e){function l(e){this["[[OriginalError]]"]=e}function g(e){return e instanceof s}function t(e){return e}function a(e){throw e}function n(e){delete e["[[OnFulfilled]]"],delete e["[[OnRejected]]"]}function o(e){var t,a=e.length;for(t=0;t<a;t++)e[t]()}function u(e,t,a){var r=c(a);g(r)?r.then(e,t):r instanceof l?t(r["[[OriginalError]]"]):e(a)}function c(a){var r;if(g(a))return a;if(Object(a)===a){try{r=a.then}catch(e){return new l(e)}if("function"==typeof r)return new s(function(e,t){f(function(){try{r.call(a,e,t)}catch(e){t(e)}})})}return null}function r(t,e){function a(e){"pending"==t["[[PromiseStatus]]"]&&i(t,e)}try{e(function(e){"pending"==t["[[PromiseStatus]]"]&&function t(a,e){var r;g(r=c(e))?(a["[[PromiseStatus]]"]="internal pending",r.then(function(e){t(a,e)},function(e){i(a,e)})):r instanceof l?i(a,r["[[OriginalError]]"]):(a["[[PromiseStatus]]"]="fulfilled",a["[[PromiseValue]]"]=e,(r=a["[[OnFulfilled]]"])&&r.length&&(n(a),o(r)))}(t,e)},a)}catch(e){a(e)}}function i(e,t){var a=e["[[OnRejected]]"];e["[[PromiseStatus]]"]="rejected",e["[[PromiseValue]]"]=t,a&&a.length&&(n(e),o(a))}function s(e){if(!g(this))throw new TypeError('constructor Promise requires "new".');this["[[PromiseStatus]]"]="pending",this["[[PromiseValue]]"]=void 0,r(this,e)}var f=e.setImmediate,p=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};s.prototype.then=function(d,l){var g,c=this;return d="function"==typeof d?d:t,l="function"==typeof l?l:a,g=new s(function(a,r){function e(e){var t;try{t=e(c["[[PromiseValue]]"])}catch(e){return void r(e)}t===g?r(new TypeError("then() cannot return same Promise that it resolves.")):u(a,r,t)}function t(){f(e,d)}function n(){f(e,l)}switch(c["[[PromiseStatus]]"]){case"fulfilled":t();break;case"rejected":n();break;default:i=t,s=n,(o=c)["[[OnFulfilled]]"]||(o["[[OnFulfilled]]"]=[],o["[[OnRejected]]"]=[]),o["[[OnFulfilled]]"].push(i),o["[[OnRejected]]"].push(s)}var o,i,s})},s.prototype.catch=function(e){return this.then(t,e)},s.resolve=function(a){var r=c(a);return g(r)?r:new s(function(e,t){r instanceof l?t(r["[[OriginalError]]"]):e(a)})},s.reject=function(a){return new s(function(e,t){t(a)})},s.race=function(n){return new s(function(e,t){var a,r;if(p(n))for(r=n.length,a=0;a<r;a++)u(e,t,n[a]);else t(new TypeError("not an array."))})},s.all=function(d){return new s(function(a,e){var t,r,n,o,i=0,s=0;if(p(d)){for(r=(d=d.slice(0)).length,o=0;o<r;o++)g(t=c(n=d[o]))?(s++,t.then(function(t){return function(e){d[t]=e,++i==s&&a(d)}}(o),e)):t instanceof l?e(t["[[OriginalError]]"]):d[o]=n;s||a(d)}else e(new TypeError("not an array."))})},"undefined"!=typeof module&&module.exports?module.exports=e.Promise||s:e.Promise||(e.Promise=s)}(this)),function(w,R){var A={};function n(){A.Debug.logger("ERROR - ads_gettag() is deprecated. Update your tags.")}A.Version="7.14.36",A.Worker={sanitizeString:function(e){return(void 0!==e&&null!=e?e.toString().toLowerCase():"undefined").replace(/\u00d6|\u00f6/g,"oe").replace(/\u00dc|\u00fc/g,"ue").replace(/\u00c4|\u00e4/g,"ae").replace(/\u00df/g,"ss").replace(/\+/g," ").replace(/\s+/g," ").replace(/\s,/g,",").replace(/,\s/g,",").replace(/\s/g,"_").replace(/[^a-z0-9_\-,]/g,"")},sanitizeUrlQuery:function(e){return(void 0!==e&&null!=e?e.toString().toLowerCase():"undefined").replace(/\u00d6|\u00f6/g,"oe").replace(/\u00dc|\u00fc/g,"ue").replace(/\u00c4|\u00e4/g,"ae").replace(/\u00df/g,"ss").replace(/[^a-z0-9_\-,&=]/g,"")},decodeUrl:function(e){var t=R.getElementById(e),a=t.value;t.value=decodeURIComponent(a.replace(/\+/g," "))},getWindowProperties:function(){var e,t=-1,a=-1,r=-1,n=-1,o=!1;if(self.innerWidth)o=!0,n=(e=self).pageXOffset,r=e.pageYOffset,a=e.innerWidth,t=e.innerHeight;else{R.documentElement&&R.documentElement.clientWidth?(o=!0,e=R.documentElement):R.body&&(e=R.body);try{n=e.scrollLeft,r=e.scrollTop,a=e.clientWidth,t=e.clientHeight}catch(r){}}return{cw:a,ch:t,sl:n,st:r,pf:o}},getQueryParameter:function(e){var t=location.search.match(new RegExp("[?|&]"+e+"=?([^;&#]*)"));return!!t&&(""===t[1]||t[1])},createCookie:function(e,t,a){if(a){var r=new Date;r.setTime(r.getTime()+60*a*1e3);var n="; expires="+r.toGMTString()}else n="";R.cookie=e+"="+t+n+"; path=/"},readCookie:function(e){for(var t=e+"=",a=R.cookie.split(";"),r=0;r<a.length;r++)for(var n=a[r];" "==n.charAt(0);)if(0==(n=n.substring(1,n.length)).indexOf(t))return n.substring(t.length,n.length);return null},eraseCookie:function(e){var t=new Date;t.setTime(t.getTime()+-6e4);var a="; expires="+t.toGMTString();R.cookie=e+"="+a+"; path=/"},writeScriptNode:function(e,t,a,r){var n=R.head||R.getElementsByTagName("head")[0],o=R.createElement("script");t||(t=function(){}),o.id="tfm_script_"+Math.floor(1e13*Math.random()),o.type="text/javascript",o.callback=t,o.params=a,o.onload=function(){try{this.callback(this.params)}catch(e){A.Debug.logger("ERROR - No callback function given: "+e)}},o.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||this.onload()},void 0!==r&&!0===r&&(o.async=!0),n.appendChild(o),o.src=e},writeScriptNodeOnDomLoaded:function(e,t,a){A.Worker.addEventHandler(w,"DOMContentLoaded",function(){this.writeScriptNode(e,t,a)}.bind(this))},getLatency:function(){return(new Date).getTime()-A.Config.loadTime},writeStyleNode:function(e,t,a){var r=R.head||R.getElementsByTagName("head")[0],n=R.createElement("link");t||(t=function(){}),n.id="tfm_style_"+Math.floor(1e13*Math.random()),n.type="text/css",n.href=e,n.rel="stylesheet",n.callback=t,n.params=a,n.onload=function(){try{this.callback(this.params)}catch(e){A.Debug.logger("ERROR - No callback function given: "+e)}},n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||this.onload()},r.appendChild(n)},isSlotVisible:function(e){if(!e.container||!R.getElementById(e.container.id))return!1;var t,a=e.container.getBoundingClientRect();t=e.minVisPercent&&"number"==typeof e.minVisPercent?e.minVisPercent:A.Config.defaultMinVisiblePercentage&&"number"==typeof A.Config.defaultMinVisiblePercentage?A.Config.defaultMinVisiblePercentage:100;var r=w.innerHeight||R.documentElement.clientHeight,n=w.innerWidth||R.documentElement.clientWidth,o=0<=a.top?a.top:0,i=0<=a.left?a.left:0,s=((a.bottom>=r?r:a.bottom)-o)*((a.right>=n?n:a.right)-i),d=e.container.clientHeight*e.container.clientWidth,l=s/d*100;return l=l||0,0===d?0<=a.bottom&&0<=a.right&&a.top<=(w.innerHeight||R.documentElement.clientHeight)&&a.left<=(w.innerWidth||R.documentElement.clientWidth):t<=l},getHiddenProperty:function(){var e=["webkit","moz","ms","o"];if("hidden"in R)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in R)return e[t]+"Hidden";return null},getHiddenHeight:function(e){var t,a=w.getComputedStyle(e),r=a.display,n=a.position,o=a.visibility;return e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",t=e.offsetHeight,e.style.display=r,e.style.position=n,e.style.visibility=o,t},isPageHidden:function(){var e=A.Worker.getHiddenProperty();return!!e&&R[e]},checkForPassiveEvents:function(){if(void 0===A.Config.passiveEventSupport){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});w.addEventListener("test",null,t)}catch(e){}A.Config=A.Config||{},A.Config.passiveEventSupport=e}return A.Config.passiveEventSupport},addEventHandler:function(e,t,a){e.addEventListener?e.addEventListener(t,a,!!this.checkForPassiveEvents()&&{passive:!0}):e.attachEvent?e.attachEvent("on"+t,a):A.Debug.logger("ERROR - TFM.Worker: this browser does not support event listeners. Get a new browser, please.")},removeEventHandler:function(e,t,a){e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent?e.detachEvent("on"+t,a):A.Debug.logger("ERROR - TFM.Worker: this browser does not support event listeners. Get a new browser, please.")},getObjectKeys:function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},isMobile:function(){return void 0!==w.adsc_mobile&&("true"===w.adsc_mobile||!0===w.adsc_mobile)},isUserIdle:function(){var e=((new Date).getTime()-A.Config.timeOfLastAction)/1e3,t=null,a=A.Config.idleThresholdList;if(a)for(var r=0;r<a.length;r++)w[a[r][0]]===a[r][1]&&"number"==typeof a[r][2]&&(t=a[r][2]);return t||(t=A.Config.idleThreshold),t<e},getRandomString:function(e){var t="";if("number"!=typeof e)return A.Debug.logger("ERROR - TFM.Worker: invalid argument for .getRandomString ["+e+"]."),null;for(var a=e;0<a;a--){var r=Math.floor(62*Math.random())+0;t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(r,r+1)}return t},throttle:function(a,r,n){var o,i,s,d=null,l=0;n||(n={});var g=function(){l=!1===n.leading?0:(new Date).getTime(),d=null,s=a.apply(o,i),d||(o=i=null)};return function(){var e=(new Date).getTime();l||!1!==n.leading||(l=e);var t=r-(e-l);return o=this,i=arguments,t<=0||r<t?(d&&(clearTimeout(d),d=null),l=e,s=a.apply(o,i),d||(o=i=null)):d||!1===n.trailing||(d=setTimeout(g,t)),s}},debounce:function(t,a,r){var n,o,i,s,d,l=function(){var e=(new Date).getTime()-s;e<a&&0<=e?n=setTimeout(l,a-e):(n=null,r||(d=t.apply(i,o),n||(i=o=null)))};return function(){i=this,o=arguments,s=(new Date).getTime();var e=r&&!n;return n||(n=setTimeout(l,a)),e&&(d=t.apply(i,o),i=o=null),d}},generateRandomId:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},generateUUID:function(){var e=A.Worker.generateRandomId(32);return(e.substr(0,8)+"-"+e.substr(8,4)+"-"+e.substr(12,4)+"-"+e.substr(16,4)+"-"+e.substr(20)).toLowerCase()},rafAsync:function(){return new Promise(function(e){requestAnimationFrame(e)})},checkElement:function(e){return null===R.querySelector(e)?A.Worker.rafAsync().then(function(){return A.Worker.checkElement(e)}):Promise.resolve(!0)},convertObjectToGetParams:function(e){var t="?";for(var a in e)e.hasOwnProperty(a)&&(t+=a+"="+e[a]+"&");return t},checkForPersonalizedAds:function(){return!(void 0===w.adsc_personalizedAds||!w.adsc_personalizedAds)},isForbiddenKeyword:function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=!1;return e.forEach(function(e){-1!==w.adsc_keyword.indexOf(e)&&(t=!0)}),t}},A.Debug={},A.Debug.logger=function(e){var t=A.Worker.getLatency();59999<t?t=Math.floor(t/1e3/60)+"m":9999<t?t=Math.floor(t/1e3)+"s":t+="ms",A.Debug.loglines=A.Debug.loglines||[],A.Debug.loglines.push("["+t+"] "+e),!A.Config.consoleLog||-1===e.indexOf("WARNING")&&-1===e.indexOf("ERROR")?A.Config.consoleLogAll&&console.log("["+t+"] "+e):console.log("["+t+"] "+e)},A.Debug.start=function(){var e=("https:"===R.location.protocol?"https:":"http:")+"//a.bf-ad.net/packages/debuglayer/js/debuglayer.js";for(var t in A.Debug.mode="debug",A.Config.debugParams&&(A.Config.debugParams.mode="debug"),A.Debug.adRequests={},A.adSlot)A.adSlot.hasOwnProperty(t)&&(A.Debug.adRequests["req_"+A.adSlot[t].sequence]=A.adSlot[t]);A.Worker.writeScriptNode(e)},A.Debug.alert=function(){var e=("https:"===R.location.protocol?"https:":"http:")+"//a.bf-ad.net/packages/debuglayer/js/debuglayer.js";for(var t in A.Debug.mode="alert",A.Config.debugParams&&(A.Config.debugParams.mode="alert"),A.Debug.adRequests={},A.adSlot)A.adSlot.hasOwnProperty(t)&&(A.Debug.adRequests["req_"+A.adSlot[t].sequence]=A.adSlot[t]);A.Worker.writeScriptNode(e)},A.Debug.videoDebug=function(){if(w.tfmPlayers){var e="";for(player in tfmPlayers)e+="\n"+tfmPlayers[player].logStack.join("\n"),console.log("Videoplayer Log Stack:\n\r"+tfmPlayers[player].logStack.join("\n\r"));try{R.getElementById("videoplayer_debug").innerHTML=e}catch(e){}}else try{R.getElementById("videoplayer_debug").innerText="No videoplayer(s) on this page."}catch(e){}},A.Events={},A.Events.init=function(){R.addEventListener?A.Debug.logger("OK - browser supports CustomEvent."):(A.Debug.logger("ERROR - browser does not support CustomEvent. Auto reload disabled."),A.Config.browserFails=!0,A.Config.autoReloadAllSlots=!1),A.Worker.getHiddenProperty()?A.Debug.logger("OK - browser supports Page Visiblity API."):(A.Debug.logger("ERROR - browser does not support Page Visibility API. Auto reload disabled."),A.Config.browserFails=!0,A.Config.autoReloadAllSlots=!1),A.Worker.addEventHandler(w,"message",A.Events.onBidderAdRequested),A.Worker.addEventHandler(w,"message",A.Events.onAdPostMessage),A.Worker.addEventHandler(w,"message",A.Events.onSeedAllAd),A.Worker.addEventHandler(w,"message",A.Events.onReloadConfig),A.Config.browserFails||A.Worker.addEventHandler(w,"recoEvent",A.Events.onRecoEvent),A.Worker.addEventHandler(w,"message",A.Events.onRecoEventMessage),A.Config.browserFails||A.Worker.addEventHandler(w,"adReceived",A.Events.onAdReceived),A.Config.browserFails||A.Worker.addEventHandler(w,"adRendered",A.Events.onAdRendered),A.Config.browserFails||(A.Worker.addEventHandler(w,"load",A.Events.onInput),A.Worker.addEventHandler(w,"click",A.Events.onInput),A.Worker.addEventHandler(w,"mousemove",A.Events.onInput),A.Worker.addEventHandler(w,"mouseenter",A.Events.onInput),A.Worker.addEventHandler(w,"mousewheel",A.Events.onInput),A.Events.thrOnInput=A.Worker.throttle(A.Events.onInput,50),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",A.Events.thrOnInput),A.Worker.addEventHandler(w,"keydown",A.Events.onInput),A.Worker.addEventHandler(w,"dblclick",A.Events.onInput)),A.Config.browserFails||A.Worker.addEventHandler(w,"message",A.Events.onRequestSiteVars),A.Config.browserFails||(A.Events.idleInt=setInterval(function(){if(A.Worker.isUserIdle()&&!A.Config.idle){var e=new CustomEvent("userIdle");w.dispatchEvent(e),A.Config.idle=!0,clearInterval(A.Events.idleInt),A.Events.idleInt=null,A.Debug.logger("OK - user idle.")}},1e3))},A.Events.onBidderAdRequested=function(e){var t=location.protocol+"//"+location.host;if((/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)||e.origin===t)&&"string"==typeof e.data&&-1!==e.data.indexOf("requestBidderAd")){var a=JSON.parse(e.data),r=!1,n=0;if(A.bidStore.forEach(function(e){if(e.id===a.requestBidderAd.id)return r=e.creative,void(n=a.requestBidderAd.tile)}),r&&n){A.Debug.logger("OK - slot ["+n+"] sending ad code for bid ["+a.requestBidderAd.id+"] to SafeFrame for rendering.");var o=JSON.stringify({renderBidderAd:{creative:r,tile:n}});e.source.postMessage(o,e.origin)}else A.Debug.logger("ERROR - slot ["+n+"] no ad available to render for bid id ["+a.requestBidderAd.id+"].");A.ThirdParty().removeBid(a.requestBidderAd.id)}},A.Events.onSlotVisible=function(e,t){!A.Worker.isSlotVisible(e)||A.Worker.isPageHidden()||"function"==typeof t&&t(e)},A.Events.onSlotHidden=function(e,t){A.Worker.isSlotVisible(e)&&!A.Worker.isPageHidden()||"function"==typeof t&&t(e)},A.Events.onPageVisible=function(e,t){A.Worker.isPageHidden()||"function"==typeof t&&t(e)},A.Events.onUserActive=function(e,t){A.Worker.isUserIdle()||"function"==typeof t&&t(e)},A.Events.onInput=function(){A.Config.idle&&(A.Debug.logger("OK - user active."),A.Events.idleInt=setInterval(function(){if(A.Worker.isUserIdle()&&!A.Config.idle){var e=new CustomEvent("userIdle");w.dispatchEvent(e),A.Config.idle=!0,clearInterval(A.Events.idleInt),A.Events.idleInt=null,A.Debug.logger("OK - user idle.")}},1e3));var e=new CustomEvent("userActive");w.dispatchEvent(e),A.Config.idle=!1,A.Config.timeOfLastAction=(new Date).getTime()},A.Events.onAdReceived=function(e){if(e.detail.isEmpty){if(e.detail.isEmpty){A.adSlot["tag"+e.detail.slot].debugInfo={type:"unfilled impression",size:"none",advertiserId:"none",lineItemId:"none",orderId:"none",creativeId:"none"},(t=A.adSlot["tag"+e.detail.slot]).ads||(t.ads=[]),t.ads[t.reloadCount]=t.debugInfo}}else{var t;if(A.adSlot["tag"+e.detail.slot].debugInfo={type:e.detail.type,size:e.detail.size,advertiserId:e.detail.advertiserId,lineItemId:e.detail.lineItemId,orderId:e.detail.orderId,creativeId:e.detail.creativeId},(t=A.adSlot["tag"+e.detail.slot]).ads||(t.ads=[]),t.ads[t.reloadCount]=t.debugInfo,"adexchange"===e.detail.type){var a={"728x90":"sb","300x250":"mr","300x600":"hpa","160x600":"sky","970x250":"bb","800x250":"bb","468x60":"fsb","320x50":"mc61","320x75":"mc41","320x150":"mc21"},r="unknown";a[e.detail.size]&&(r=a[e.detail.size]),A.Events.dmpEvent("rtaBidWon",{format:r,price:100,advertiser:"adexchange"})}A.adSlot["tag"+e.detail.slot].isGoogleAd=!0}},A.Events.onAdRendered=function(e){if(e.detail.slot&&(A.adSlot["tag"+e.detail.slot].isGoogleAd=!1,"blocker"!=A.adSlot["tag"+e.detail.slot].debugInfo.type&&"filler"!=A.adSlot["tag"+e.detail.slot].debugInfo.type)){var t,a=this.generateInfolayer||w.generateInfolayer||R.generateInfolayer,r=A.Config.rtbConfig.injectors.filter(function(e){return"infolayer"==e.name});r&&0<r.length&&(t=r[0]),t&&t.active&&this.generateInfolayer&&a(A.adSlot["tag"+e.detail.slot],t)}},A.Events.onRecoEventMessage=function(e){var t=location.protocol+"//"+location.host;if((/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)||e.origin===t)&&"string"==typeof e.data&&-1!==e.data.indexOf("recoEvent")){var a=JSON.parse(e.data);A.Events.onRecoEvent({detail:a.recoEvent})}},A.Events.onRecoEvent=function(a){if(a.detail){var t,r,n;A.Debug.logger("OK - remove bid: key ["+a.detail.rKey+"], value ["+a.detail.rVal+"]."),A.Tag.removeTagVar(a.detail.rKey,a.detail.rVal);for(var o=0;o<A.bidStoreArchive.length;o++)A.bidStoreArchive[o].tagvars.forEach(function(e){a.detail.rKey===e.key&&a.detail.rVal===e.value.toString()&&(A.bidStoreArchive[o].won=!0,r=A.bidStoreArchive[o].format,n=A.bidStoreArchive[o].price,t=A.bidStoreArchive[o].advertiser,A.Debug.logger("OK - bid won: format ["+r+"], price ["+n+"], advertiser ["+t+"]."))});A.bidStore=A.bidStore.filter(function(e){var t=!0;return e.tagvars.forEach(function(e){a.detail.rKey===e.key&&a.detail.rVal===e.value.toString()&&(t=!1)}),t}),w.TFM.bidStoreArchive=A.bidStoreArchive,"amazon_tam"!==t&&A.Events.dmpEvent("rtaBidWon",{format:r||a.detail.rVal,price:n,advertiser:t||a.detail.rKey})}},A.Events.onAdPostMessage=function(e){var t=location.protocol+"//"+location.host;if(!/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)&&e.origin!==t)return null;if("string"==typeof e.data&&-1!==e.data.indexOf("debugInfo"))try{var a,r;a=JSON.parse(e.data),(r=A.adSlot["tag"+a.debugInfo.tile]).debugInfo=a.debugInfo,r.ads||(r.ads=[]),r.ads[r.reloadCount]=r.debugInfo;try{var n=new CustomEvent("adRendered",{detail:{slot:a.debugInfo.tile,container:r.target,isFiller:"filler"===a.debugInfo.type||"blocker"===a.debugInfo.type,type:a.debugInfo.type}});w.dispatchEvent(n)}catch(e){A.Debug.logger("ERROR - slot ["+a.debugInfo.tile+"] failed to dispatch adRendered event because: "+e)}try{u[a.debugInfo.type].init(a.debugInfo.tile)}catch(e){A.Debug.logger("ERROR - slot ["+a.debugInfo.tile+"] failed to call ad init function for ["+a.debugInfo.type+"] because: "+e)}A.Debug.logger("OK - slot ["+a.debugInfo.tile+"] received ad info Type ["+a.debugInfo.type+"] Size ["+a.debugInfo.size+"], calling ad init function.")}catch(e){A.Debug.logger("ERROR - failed to parse ad postMessage because: "+e)}},A.Events.dmpEvent=function(e,t){w._deq=w._deq||[],w._deq.push(["track",e,t])},A.Events.onReloadConfig=function(e){var t=location.protocol+"//"+location.host;if((/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)||e.origin===t)&&"string"==typeof e.data&&-1!==e.data.indexOf("reloadConfig")){var a=JSON.parse(e.data);!0===a.reloadConfig.block&&(w.TFM.adSlot["tag"+a.reloadConfig.slot].allowReload=!1),"0"!==a.reloadConfig.time&&(w.TFM.adSlot["tag"+a.reloadConfig.slot].reloadThreshold=parseInt(a.reloadConfig.time))}},A.Events.onRequestSiteVars=function(e){var t=location.protocol+"//"+location.host;if((/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)||e.origin===t)&&"string"==typeof e.data&&-1!==e.data.indexOf("requestSiteVars")){var a={siteVars:{adunit1:w.adsc_adunit1,adunit2:w.adsc_adunit2,adunit3:w.adsc_adunit3,adunit4:w.adsc_adunit4,adunit5:w.adsc_adunit5,layout:w.adsc_layout,mobile:w.adsc_mobile,device:w.adsc_device}};e.source.postMessage(JSON.stringify(a),e.origin)}},A.Events.onSeedAllAd=function(e){var t=location.protocol+"//"+location.host;if((/^https?:\/\/tpc\.googlesyndication\.com$/.test(e.origin)||e.origin===t)&&"string"==typeof e.data&&-1!==e.data.indexOf("nativendo")){var a=JSON.parse(e.data),r=R.getElementById(A.adSlot["tag"+a.slot].target),n=r.getElementsByTagName("iframe")[0];if(0<a.height)try{r.style.height=a.height+"px",r.style.width="100%",n.height=a.height+"px",n.width="100%",a.height=0}catch(e){}}},A.Events.trackOILEvents=function(){if(A.Config.bfConsentToolActive){var e,t=w.addEventListener?"addEventListener":"attachEvent",a="attachEvent"===t?"onmessage":"message",r=w[t],n=["oil_optin_done","oil_auto_optin_done","oil_as_cpc_privacy_selected","oil_click_advanced_settings","oil_click_back_to_main","oil_no_cookies_allowed","oil_has_optedin","oil_shown","oil_hide_layer","oil_link_click_privacy","oil_link_click_cpc","oil_click_thirdparty_list","oil_click_company_list","oil_poi_optin_done","oil_soi_optin_done"];function o(e){for(var t=0;t<=n.length;t++)if("string"==typeof e&&e===n[t])return!0;return!1}w.AS_OIL&&w.AS_OIL.eventCollection&&(e=w.AS_OIL.eventCollection).length&&e.forEach(function(e){if(o(e.name)){var t={type:e.name,timestamp:e.timestamp};A.Events.dmpEvent("oilEvent",t)}}),r(a,function(e){if(o(e.data)){var t={type:e.data,timestamp:(new Date).getTime()};A.Events.dmpEvent("oilEvent",t)}},!1)}},A.bidStore=[],A.bidStoreArchive=[],A.ThirdParty=function(){var k={sky:"160x600",mr:"300x250",bb:"800x250",sb:"728x90",hpa:"300x600",st:"350x600",mc61:"320x50",mc41:"320x75",mc21:"320x150",wp:"728x90",mmr:"300x250",mc31:"320x100",fsb100:"468x100",fsb200:"468x200",vp:"400x300",wbb:"970x250",sbb:"800x250",smc21:"320x150",ynat:"400x200",mhpa:"300x600",apnat:"1x1",us:"320x480"},o={fag2m320:["mc61",1.4],fag2160:["sky",2.7],fag2300:["mr",2.7],fag2306:["hpa",13],fag2800:["bb",14],fag2728:["sb",2],fag2m300:["mmr",2.7],fag2n468:["fsb100",1.1],fag2n200:["fsb200",2.5],fag2300m:["hpa",9],fag2800m:["bb",10],fag2m300l:["mr",.75],fag2m320l:["mc61",.7],fag2m300m:["mr",1.5],fag2m3201:["mc41",1.4],fag2n200l:["fsb100",.7],fagl160:["sky",.8],fagl325:["mr",.8],fagl360:["hpa",3.5],fagl728:["sb",.8],fagl825:["bb",4.5]},i={p1d:.24,p14:.46,p1c:.71,p13:.91,p1b:1.18,p12:1.37,p1a:1.65,p11:1.82,p10:2.28,p9:2.74,p8:3.19,p7:3.65,p6:4.11,p5:4.56,p4:5.01,p3:5.47,p2:5.93,p1:6.39,vp2:18,vp1:22,vp3:24,vp4:26,vp5:28},s={a7x9:"sb",a3x2:"mr",a1x6:"sky",a3x6:"hpa",a3x5:"mc61",a8x2:"bb",a9x2:"bb",m3x2:"mmr",m3x5:"mc61"},d={mr:5,sb:5,sky:5,bb:15,hpa:15,st:15,vp:22},c={yieldlab:{displayName:"Yieldlab AG",id:1,gvlId:70,disableIfNoConsent:!1},amazon:{displayName:"Amazon",id:3,gvlId:!1,disableIfNoConsent:!0,purposeIds:[2]},amazon_tam:{displayName:"Amazon",id:28,gvlId:!1,disableIfNoConsent:!0,purposeIds:[2]},amazon_tam_video:{displayName:"Amazon",id:29,gvlId:!1,disableIfNoConsent:!0,purposeIds:[2]},criteo_2:{displayName:"Criteo SA",id:4,gvlId:91,disableIfNoConsent:!0},dataengine:{displayName:"Permutive Inc.",id:5,gvlId:360,disableIfNoConsent:!1,purposeIds:[1,2,3,4]},emetriq:{displayName:"emetriq GmbH",id:8,gvlId:213,disableIfNoConsent:!0,purposeIds:[2]},facebook:{displayName:"Facebook",id:9,gvlId:!1,disableIfNoConsent:!0,purposeIds:[1,2,3]},gpt:{displayName:"Google",id:10,gvlId:!1,disableIfNoConsent:!1,purposeIds:[1,2,3]},groupm:{displayName:"GroupM",id:11,gvlId:!1,disableIfNoConsent:!1,purposeIds:[1,2,3]},groupmvideo:{displayName:"GroupM",id:11,gvlId:!1,disableIfNoConsent:!1,purposeIds:[1,2,3]},moatanalytics:{displayName:"Moat Analytics",id:14,gvlId:!1,disableIfNoConsent:!0,purposeIds:[1,5]},nudge:{displayName:"Nudge",id:15,gvlId:!1,disableIfNoConsent:!0,purposeIds:[1,5]},seeding:{displayName:"Seeding Alliance GmbH",id:17,gvlId:371,disableIfNoConsent:!1,purposeIds:[1,2,3,4,5]},som:{displayName:"SevenOne Media GmbH",id:18,gvlId:!1,disableIfNoConsent:!0,purposeIds:[2]},yieldlabvideo:{displayName:"Yieldlab AG",id:1,gvlId:70,disableIfNoConsent:!1},nuggad:{displayName:"nugg.ad GmbH",id:22,gvlId:!1,disableIfNoConsent:!0,purposeIds:[1,2,3]},wfx:{displayName:"IBM WeatherFX",id:23,gvlId:!1,disableIfNoConsent:!0,purposeIds:[1,2,3]},smartclip:{displayName:"smartclip Holding AG",id:24,gvlId:115,disableIfNoConsent:!1},unruly:{displayName:"Unruly Media GmbH",id:25,gvlId:162,disableIfNoConsent:!1,purposeIds:[1,2,3]},apn:{displayName:"AppNexus Inc.",id:26,gvlId:32,disableIfNoConsent:!1}};function _(e){return A.Debug.logger(e)}function l(e,f){var p=A.Config.rtbConfig,m=[];return p.bidderList.forEach(function(u){e.forEach(function(e){if(e[0]===u.name)if(timeout=u.timeout?u.timeout:p.bidderConf.timeoutDefault,u.callback=u.callback?u.callback:u.name,"GET"===u.mode)url=v(u,e[1]),url&&(promise=b(u.name,"GET",url,timeout,y[u.callback]),m.push(promise));else if("POST"===u.mode)url=v(u,e[1]),url&&(header=url[0],url=url[1],promise=b(u.name,"POST",url,timeout,y[u.callback],header),m.push(promise));else if("API"===u.mode)f?y[u.callback](e[1],f):"amazon_tam_video"===u.name?y.amazon_tam_video():_("ERROR - TFM.ThirdParty: Cannot load API bidders without passing a slot object.");else if("BRIDGE"===u.mode){var t=A.Tag.getAdUnitString().split("http://images.intellicast.com/"),a=w.adsc_layout,r=A.Tag.params.mobile.deviceType.slice(0,1),n="t"+f.smSequence,o="r"+f.reloadCount,i="";f.hCount&&(i=f.hCount),f.vCount&&(i=f.vCount),f.qCount&&(i=f.qCount),f.oopCount&&(i=f.oopCount),f.oceCount&&(i=f.oceCount);var s=r+","+n+","+o+","+f.prodType+","+f.prodCount+f.orientation+","+r+"_"+f.orientation[0]+","+i,d=t[0].substr(0,3)+s.substr(0,1)+t[1].substr(0,3)+a.substr(0,3)+s.substr(s.length-2);f.bridge_slotid=d;var l=function(){var e=u.endpoint+d;promise=b(u.name,"GET",e,timeout,y[u.callback]),m.push(promise)};_("Reading BRIDGE cookie...");var g=A.Worker.readCookie("bfaBridge");if(g){_("BRIDGE cookie found ... checking..");try{var c=JSON.parse(g);c[d]?(_("BRIDGE cookie value in cookie is found ... checking whether it needs to be refreshed"),!function(e){var t=48;void 0!==A.Config.bridgeCookieValueLifetime&&"number"==typeof A.Config.bridgeCookieValueLifetime&&(t=A.Config.bridgeCookieValueLifetime);var a=new Date(e);a.setTime(a.getTime()+60*t*60*1e3);var r=new Date;return _("BRIDGE cookie value needs to be updated at: "+a),!(r<a)}(c[d].updatedAt)?_("BRIDGE Value in cookie for slot is still up to date and ca be used"):(_("BRIDGE  Value in cookie needs to be refreshed"),l())):(_("BRIDGE cookie does not contain requested information ... requesting meetrics.."),l())}catch(e){_("BRIDGE cookie is malformed ... requesting meetrics.."),l()}}else _("BRIDGE cookie is not found ... requesting meetrics.."),l()}})}),m}function v(a,e){var t="https:"===R.location.protocol?"https:":"http:";switch(a.name){case"yieldlab":case"yieldlabvideo":case"som":case"groupm":case"groupmvideo":var r=a.altIds;if(r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length)for(var n=0;n<r.length;n++)if(w[r[n][0]]&&w[r[n][0]]===r[n][1])for(var o in r[n][2])r[n][2].hasOwnProperty(o)&&(a.slotIds[o]=r[n][2][o]);y=t+"//ad.yieldlab.net/yp/";var i="";if(e.forEach(function(e){i+=a.slotIds[e]+","}),c=y+(i=i.slice(0,-1))+"?json=true&ts="+Math.floor(1e13*Math.random()),"yieldlab"===a.name||"yieldlabvideo"===a.name){var s=A.Worker.getQueryParameter("yp_debug"),d=A.Worker.getQueryParameter("yp_key"),l=A.Worker.getQueryParameter("yp_val"),g="";s&&d&&l&&(c+="&t="+encodeURIComponent(d+"="+l)),A.Config.ypADPParam&&(g+=s&&d&&l?encodeURIComponent("&"+A.Config.ypADPParam):encodeURIComponent(A.Config.ypADPParam)),w.__emqSegments&&(A.Config.rttSegments=w.__emqSegments.rtt?w.__emqSegments.rtt.join(","):"empty",s&&d&&l?g+=encodeURIComponent("&adp_rtt="+A.Config.rttSegments):(""!==g&&(g+=encodeURIComponent("&")),g+=encodeURIComponent("adp_rtt="+A.Config.rttSegments))),A.Config.permutiveSegments&&(s&&d&&l?g+=encodeURIComponent("&"+A.Config.permutiveSegments):(""!==g&&(g+=encodeURIComponent("&")),g+=encodeURIComponent(A.Config.permutiveSegments))),g&&(c+="&t="+g),a.IABString&&(c+="&consent="+a.IABString)}return c;case"apn":case"apnvideo":case"apnnative":var c=y=t+"//ib.adnxs.com/ut/v3/prebid",u=A.Worker.isMobile(),f=a.placementId;u&&("smartphone"===A.Tag.params.mobile.deviceType&&a.placementIdSmartphone?f=a.placementIdSmartphone:"tablet"===A.Tag.params.mobile.deviceType&&a.placementIdTablet&&(f=a.placementIdTablet));var p={tags:[{sizes:[],primary_size:{},uuid:A.Worker.generateUUID(),id:f||3578908,prebid:!0,allow_smaller_sizes:!1,disable_psa:!0,ad_types:["banner"]}],uuid:A.Worker.generateUUID(),member_id:9517,sdk:{source:"ast",version:"0.14.0"},keywords:[{key:"pn",value:[A.Config.randomPnKey]},{key:"hbp",value:[A.Config.randomHeaderBiddingKey]},{key:"bfrev",value:[A.Config.randomBfrevKey]}],device:{geo:{zip:""}},gdpr_consent:{consent_required:!0,consent_string:a.IABString}};"apnvideo"===a.name&&(p.tags[0].video={maxduration:30,skippable:!0,context:1,frameworks:["vpaid_1_0","vpaid_2_0"]},p.tags[0].ad_types=["video"],p.tags[0].require_asset_url=!0);var m=[];for(n=0;n<e.length;n++)if(a.slotIds[e[n]]){var v=k[e[n]].split("x");m.push({width:parseInt(v[0]),height:parseInt(v[1])}),"apnvideo"===a.name&&m.unshift({width:1,height:1})}"apnnative"===a.name&&(p.tags[0].ad_types=["native"],p.tags[0].native={layouts:[{main_image:{required:!0,sizes:[{}]},title:{required:!0},icon:{required:!1,sizes:[{}]},description:{required:!0},privacySupported:!0}]});var b={width:(p.tags[0].sizes=m)[0].width,height:m[0].height};return p.tags[0].primary_size=b,[p,c];case"criteo_2":c=(y=t+"//bidder.criteo.com/cdb")+"?profileId="+a.profileId+"&cb="+Math.floor(1e13*Math.random());p={publisher:{url:R.location.origin+R.location.pathname},slots:[]},u=A.Worker.isMobile();var h=["mc61","mc41","mc31","mc21","mmr","mhpa","us"];e=e.filter(function(t){var a;return!0===u?(a=!1,h.forEach(function(e){e===t&&(a=!0)})):!1===u&&(a=!0,h.forEach(function(e){e===t&&(a=!1)})),a});for(n=0;n<e.length;n++)a.slotIds[e[n]]&&p.slots.push({impid:"ad-unit-"+n,zoneid:a.slotIds[e[n]]});return[p,c];case"criteo":if(o=a.pubId?a.pubId.toString():null){c=("https:"===R.location.protocol?"https:":"http:")+"//rtax.criteo.com/delivery/rta/rta.js?netId="+o;return c+="&cookieName=crtg_rtafag2&varName=crtg_content",c+="&rnd="+Math.floor(1e13*Math.random())}return _("ERROR - TFM.ThirdParty: Criteo id not configured."),null;case"seeding":return t+"//d.nativendo.de/cds/rtb/bid?url="+encodeURIComponent(R.location.href)+"&format=burdaforward";case"wfx":return"https://partners.wfxtriggers.com/json/";case"facebook":var y="https://an.facebook.com/v2/placementbid.json?",T=a.sdk?a.sdk:"5.5.web",C="";if(e.forEach(function(e){if(a.slotIds[e]){var t;switch(e){case"mr":case"mmr":t="300x250";break;case"mc61":t="320x50";break;default:return null}C+="&placementids[]="+a.slotIds[e],C+="&adformats[]="+t}}),C.length){c=y+"sdk="+T+C;a.testMode&&(c+="&testmode=true")}return c||!1;case"define_2":var E=a.siteId?a.siteId:null,S=(y="https://bid.conative.de/requestbid/113/",[]);return e.forEach(function(e){a.slotIds[e]&&S.push(a.slotIds[e])}),[p={test:!0},c=y+E+"/"+S[0]]}}function b(i,s,d,l,g,c){return new Promise(function(e,t){if("JSONP"===s){var a=((o={}).send=function(e,t){var a=t.callbackName||"callback",r=t.onSuccess||function(){},n=t.onTimeout||function(){},o=t.timeout||500,i=w.setTimeout(function(){n()},o);w[a]=function(e){w.clearTimeout(i),r(e,this)}.bind(this);var s=R.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,R.getElementsByTagName("head")[0].appendChild(s)}.bind(g),o),r=A.Config.rtbConfig.specialBidders[i].data;w.jsonpCallback=function(){},d=d+A.Worker.convertObjectToGetParams(r)+"callback=jsonpCallback",a.send(d,{callbackName:"jsonpCallback",onSuccess:function(e,t){t(e)},onTimeout:function(){A.Debug.logger("jsonPCall timeout")},timeout:500})}else{var n=new XMLHttpRequest;"GET"===s?n.open("http://images.intellicast.com/Scripts/GET",d,!0):"POST"===s&&(n.open("http://images.intellicast.com/Scripts/POST",d,!0),"smartclip"===i&&(n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("x-openrtb-version","2.3"))),n.withCredentials=!0,n.timeout=l,n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e(g(n.response)):0===n.status?(e(g(!1)),A.Events.dmpEvent("rtaBidFailed",{vendor:i,reason:"timeout"})):("4"===n.status.toString()[0]||n.status.toString()[0],e(g(!1)),A.Events.dmpEvent("rtaBidFailed",{vendor:i,reason:n.status})))},n.ontimeout=function(){},"GET"===s?n.send():"POST"===s&&n.send(JSON.stringify(c))}var o})}function r(){if(!w.adEngineVideoURLReady){var e=new CustomEvent("adEngineVideoURLReady",{detail:{ready:!0}});w.adEngineVideoURLReady=!0,w.dispatchEvent(e)}}function g(e,t){w.setTimeout(r,500);var a=e||[];a instanceof Array&&0<a.length?Promise.all(a).then(function(e){_("OK - all bidders returned: "+e),r(),t&&!t.noQueue?(t.queue.removeLast(),t.queue.callNext(t.sequence)):t||A.Config.bidOnDemand||A.globalQueue.flush()},function(e){_("ERROR - failed to complete bidder Promises: "+e),r(),t&&!t.noQueue?(t.queue.removeLast(),t.queue.callNext(t.sequence)):A.Config.bidOnDemand||A.globalQueue.flush()}):t&&!t.noQueue&&(t.queue.removeLast(),t.queue.callNext(t.sequence))}function u(t){A.bidStore=A.bidStore.filter(function(e){return e.id!==t||(_("OK - removing bid: id ["+e.id+"], format ["+e.format+"], price ["+e.price+"], advertiser ["+e.advertiser+"]."),!1)}),A.bidStoreArchive.forEach(function(e){e.id===t&&(e.won=!0,"amazon_tam"!==e.advertiser&&A.Events.dmpEvent("rtaBidWon",{format:e.format,price:e.price,advertiser:e.advertiser}))}),w.TFM.bidStoreArchive=A.bidStoreArchive}function f(n){for(var e=0;e<A.Config.rtbConfig.bidderList.length;e++){if(c[A.Config.rtbConfig.bidderList[e].name])var t=c[A.Config.rtbConfig.bidderList[e].name].id;var a=A.Config.rtbConfig.bidderList[e].activeThirdParty;t===n&&a&&(A.Config.rtbConfig.bidderList[e].active=!1)}Object.keys(A.Config.rtbConfig.specialBidders).forEach(function(e,t){if(c[A.Config.rtbConfig.specialBidders[e].name])var a=c[A.Config.rtbConfig.specialBidders[e].name].id;var r=A.Config.rtbConfig.specialBidders[e].activeThirdParty;a===n&&r&&(A.Config.rtbConfig.specialBidders[e].active=!1)});for(e=0;e<A.Config.rtbConfig.injectors.length;e++){if(c[A.Config.rtbConfig.injectors[e].name])t=c[A.Config.rtbConfig.injectors[e].name].id;a=A.Config.rtbConfig.injectors[e].activeThirdParty;t===n&&a&&(A.Config.rtbConfig.injectors[e].active=!1)}}function p(r,n){for(var e=0;e<A.Config.rtbConfig.bidderList.length;e++){if(c[A.Config.rtbConfig.bidderList[e].name])var t=c[A.Config.rtbConfig.bidderList[e].name].id;t===n&&(A.Config.rtbConfig.bidderList[e].IABString=r)}Object.keys(A.Config.rtbConfig.specialBidders).forEach(function(e,t){if(c[A.Config.rtbConfig.specialBidders[e].name])var a=c[A.Config.rtbConfig.specialBidders[e].name].id;a===n&&(A.Config.rtbConfig.specialBidders[e].IABString=r)});for(e=0;e<A.Config.rtbConfig.injectors.length;e++){if(c[A.Config.rtbConfig.injectors[e].name])t=c[A.Config.rtbConfig.injectors[e].name].id;t===n&&(A.Config.rtbConfig.injectors[e].IABString=r)}}function m(r,n){for(var e=0;e<A.Config.rtbConfig.bidderList.length;e++){if(c[A.Config.rtbConfig.bidderList[e].name])var t=c[A.Config.rtbConfig.bidderList[e].name].id;t===n&&(A.Config.rtbConfig.bidderList[e].consent=r)}Object.keys(A.Config.rtbConfig.specialBidders).forEach(function(e,t){if(c[A.Config.rtbConfig.specialBidders[e].name])var a=c[A.Config.rtbConfig.specialBidders[e].name].id;a===n&&(A.Config.rtbConfig.specialBidders[e].consent=r)});for(e=0;e<A.Config.rtbConfig.injectors.length;e++){if(c[A.Config.rtbConfig.injectors[e].name])t=c[A.Config.rtbConfig.injectors[e].name].id;t===n&&(A.Config.rtbConfig.injectors[e].consent=r)}}function n(){return new Promise(function(t,e){if("undefined"==typeof __cmp){A.Debug.logger("ERROR - CMP not found. This is most likely due to a wrong integration. Trying to wait 500ms for the __cmp object before continuing, else return false.");var a=0,r=w.setInterval(function(){++a<=10?"undefined"!=typeof __cmp&&(__cmp("getVendorConsents",null,function(e){t(e)}),w.clearInterval(r)):(w.clearInterval(r),t(!1))},50)}else __cmp("getVendorConsents",null,function(e){t(e)})})}function h(g){return new Promise(function(e,t){!1===g&&e();var a=function(){for(var t=[],e=0;e<A.Config.rtbConfig.bidderList.length;e++)A.Config.rtbConfig.bidderList[e].active&&A.Config.rtbConfig.bidderList[e].activeThirdParty&&t.push(A.Config.rtbConfig.bidderList[e].name);for(Object.keys(A.Config.rtbConfig.specialBidders).forEach(function(e){A.Config.rtbConfig.specialBidders[e].active&&A.Config.rtbConfig.specialBidders[e].activeThirdParty&&t.push(A.Config.rtbConfig.specialBidders[e].name)}),e=0;e<A.Config.rtbConfig.injectors.length;e++)A.Config.rtbConfig.injectors[e].active&&A.Config.rtbConfig.injectors[e].activeThirdParty&&t.push(A.Config.rtbConfig.injectors[e].name);return t}(),r=Object.keys(c).filter(function(e){return!!a.includes(e)}).reduce(function(e,t){return e[t]=c[t],e},{});for(var n in r){var o,i=r[n];if(A.Debug.logger("Checking Consent for "+i.displayName+"...."),!1!==i.gvlId&&void 0!==g.vendorConsents[i.gvlId.toString()])A.Debug.logger(i.displayName+" is on IAB list (Global ID: "+i.gvlId+")..."),o=g.vendorConsents[i.gvlId.toString()],A.Debug.logger(i.displayName+" iab consent: "+o),!o&&i.disableIfNoConsent&&(f(i.id),A.Debug.logger("Consent für "+i.displayName+" wurde nicht gegeben. Vendor Module deaktiviert."));else{A.Debug.logger(i.displayName+" is NOT on IAB list...");var s=i.purposeIds;if(0<s.length)for(var d in g.purposeConsents)if(g.purposeConsents[d])!1!==o&&(o=!0);else{var l=parseInt(d,10);if(-1!==s.indexOf(l)){o=!1;break}!1!==o&&(o=!0)}else o=!1;A.Debug.logger(i.displayName+" internal consent via purpose solution: "+o),!o&&i.disableIfNoConsent?(f(i.id),A.Debug.logger("Consent für "+i.displayName+" wurde nicht gegeben. Vendor Module deaktiviert.")):A.Debug.logger("Consent für "+i.displayName+" wurde gegeben. (Vendor Module bleiben aktiv.)")}p(g.metadata,i.id),m(o,i.id)}e()})}var y={apn:function(e){if(e){var t=JSON.parse(e),a=E("apn").useNewBidSystem;if(t.tags&&t.tags instanceof Array&&!t.tags[0].nobid){var r,n=t.tags[0].ads[0],o="";if(n.rtb.banner){var i=n.rtb.banner.width+"x"+n.rtb.banner.height,s=["mc61","mc41","mc31","mc21","mmr","mc31","smc21","mhpa"],d="";if(A.Worker.isMobile())for(d in k)-1===s.indexOf(d)&&delete k[d];for(var l in k)if(k[l]===i){d=l;break}n.rtb.trackers&&n.rtb.trackers instanceof Array&&n.rtb.trackers[0]&&n.rtb.trackers[0].impression_urls&&n.rtb.trackers[0].impression_urls instanceof Array&&(o=n.rtb.trackers[0].impression_urls),r=n.rtb.banner.content}else n.rtb.native&&(d="apnat",r=n.rtb.native);_("OK - received bid: vendor [appnexus], format ["+d+"].");var g="appnexus",c={id:A.Worker.generateRandomId(16),vendor:"appnexus",format:d,price:n.cpm_publisher_currency,cpm:Math.floor(100*n.cpm_publisher_currency),advertiser:g,creative:r,code:0,tagvars:[],won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:a,trackers:o};A.bidStore.push(c),A.bidStoreArchive.push(c),A.Events.dmpEvent("rtaBid",{format:d,price:n.cpm_publisher_currency,advertiser:g,vendor:"appnexus"})}return"APN:1"}return"APN:0"},apnvideo:function(e){if(e){var t=JSON.parse(e),o=E("apnvideo").useNewBidSystem;if(t.tags&&t.tags instanceof Array&&!t.tags[0].nobid){var i=t.tags[0].ads[0];_("OK - received bid: vendor [appnexus], format [video].");b("apn","POST","https://prebid.adnxs.com/pbc/v1/cache",500,function(e){if(e){var t=JSON.parse(e),a=t.responses[0].uuid,r=A.Worker.generateRandomId(16),n={id:r,vendor:"appnexus",format:"vp",price:i.cpm_publisher_currency,cpm:Math.floor(100*i.cpm_publisher_currency),advertiser:"appnexus",creative:"",code:a,tagvars:[],won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:o};A.bidStore.push(n),A.bidStoreArchive.push(n),A.Events.dmpEvent("rtaBid",{format:"vp",price:i.cpm_publisher_currency,advertiser:"appnexus",vendor:"appnexus"})}else;},{puts:[{type:"xml",value:'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+i.rtb.video.asset_url+"]]></VASTAdTagURI>\n        <Impression><![CDATA["+i.notify_url+"]]></Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"}]})}return"APNV:1"}return"APNV:0"},yieldlab:function(e){if(!e)return"YP:0";try{var t=JSON.parse(e),a=E("yieldlab"),r=a.useNewBidSystem,n=a.slotIds;for(var o in n)if(n.hasOwnProperty(o))for(var i in t)if(t.hasOwnProperty(i)&&t[i].id===n[o]){_("OK - received bid: vendor [yieldlab], format ["+o+"].");var s=t[i].advertiser?t[i].advertiser:"yieldlab",d=A.Worker.generateRandomId(16),l=A.Worker.getQueryParameter("yp_debug"),g=A.Worker.getQueryParameter("yp_key"),c=A.Worker.getQueryParameter("yp_val"),u="";l&&g&&c&&(u="&t="+encodeURIComponent(g+"="+c));var f={id:d,vendor:"yieldlab",format:o,price:t[i].price/100,cpm:t[i].price,advertiser:s,range:t[i].pricerange,creative:'<script type="text/javascript" src="https://ad.yieldlab.net/d/'+t[i].id+"/21691/"+k[o]+"?ts="+(new Date).getTime()+u+"&consent="+a.IABString+'"><\/script>',tagvars:[{key:"yp"+o,value:t[i].id},{key:"yp"+o+"r",value:t[i].pricerange}],code:t[i].id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(f),A.bidStoreArchive.push(f),A.Events.dmpEvent("rtaBid",{format:o,price:t[i].price/100,advertiser:s,vendor:"yieldlab"})}return C(A.Tag.setTagVar),"YP:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"YP:0"}},yieldlabvideo:function(e){if(!e)return"YPV:0";try{var t=JSON.parse(e),a=E("yieldlabvideo"),r=a.useNewBidSystem,n=a.slotIds;for(var o in n)if(n.hasOwnProperty(o))for(var i in t)if(t.hasOwnProperty(i)&&t[i].id===n[o]){_("OK - received bid: vendor [yieldlab], format ["+o+"].");var s=t[i].advertiser?t[i].advertiser:"yieldlab",d={id:A.Worker.generateRandomId(16),vendor:"yieldlab",format:o,price:t[i].price/100,cpm:t[i].price,advertiser:s,range:t[i].pricerange,creative:'<script type="text/javascript" src="https://ad.yieldlab.net/d/'+t[i].id+"/21691/"+k[o]+"?ts="+(new Date).getTime()+"&consent="+a.IABString+'"><\/script>',tagvars:[{key:"yp"+o,value:t[i].id},{key:"yp"+o+"r",value:t[i].pricerange}],code:t[i].id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(d),A.bidStoreArchive.push(d),A.Events.dmpEvent("rtaBid",{format:o,price:t[i].price/100,advertiser:s,vendor:"yieldlabvideo"})}return C(A.Tag.setTagVar),"YPV:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"YPV:0"}},som:function(e){if(!e)return"SOM:0";try{var t=JSON.parse(e);t=t[0];var a=E("som"),r=a.useNewBidSystem;if(t&&t.id){var n=[],o="";if(t.id&&n.push("ylaid="+t.id),t.prio&&n.push("&yl=va1,va1p"+t.prio),t.pid&&n.push("&ylpid="+t.pid),t.pvid&&n.push("&ylpvid="+t.pvid),n.length)for(var i=0;i<n.length;i++)o+=n[i];var s=o,d=a.encodeSteps?a.encodeSteps:3;for(i=0;i<d;i++)s=encodeURIComponent(s);_("OK - received bid: vendor [som], format [vp].");var l={id:A.Worker.generateRandomId(16),vendor:"som",format:"vp",price:0,cpm:0,advertiser:"som",range:"",tagvars:[{key:"som_yp",value:s}],code:s,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(l),A.bidStoreArchive.push(l),A.Events.dmpEvent("rtaBid",{format:"vp",price:0,advertiser:"som",vendor:"som"})}return"SOM:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"SOM:0"}},groupm:function(e){if(!e)return"GM:0";try{var t=JSON.parse(e),a=E("groupm"),r=a.useNewBidSystem,n=a.slotIds;for(var o in n)if(n.hasOwnProperty(o))for(var i in t)if(t.hasOwnProperty(i)&&t[i].id===n[o]){_("OK - received bid: vendor [groupm], format ["+o+"].");var s={id:A.Worker.generateRandomId(16),vendor:"groupm",format:o,price:d[o]?d[o]:0,cpm:d[o]?100*d[o]:0,range:null,advertiser:"groupm",creative:'<script type="text/javascript" src="https://ad.yieldlab.net/d/'+t[i].id+"/781119/"+k[o]+"?ts="+(new Date).getTime()+'"><\/script>',tagvars:[{key:"gm"+o,value:t[i].id}],code:t[i].id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(s),A.bidStoreArchive.push(s),A.Events.dmpEvent("rtaBid",{format:o,price:d[o]?d[o]:0,advertiser:"groupm",vendor:"groupm"})}return"GM:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"GM:0"}},groupmvideo:function(e){if(!e)return"GMV:0";try{var t=JSON.parse(e),a=E("groupmvideo"),r=a.useNewBidSystem,n=a.slotIds;for(var o in n)if(n.hasOwnProperty(o))for(var i in t)if(t.hasOwnProperty(i)&&t[i].id===n[o]){_("OK - received bid: vendor [groupmvideo], format ["+o+"].");var s={id:A.Worker.generateRandomId(16),vendor:"groupmvideo",format:o,price:d[o]?d[o]:0,cpm:d[o]?100*d[o]:0,range:null,advertiser:"groupmvideo",creative:'<script type="text/javascript" src="https://ad.yieldlab.net/d/'+t[i].id+"/781119/"+k[o]+"?ts="+(new Date).getTime()+'"><\/script>',tagvars:[{key:"gm"+o,value:t[i].id}],code:t[i].id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(s),A.bidStoreArchive.push(s),A.Events.dmpEvent("rtaBid",{format:o,price:d[o]?d[o]:0,advertiser:"groupmvideo",vendor:"groupmvideo"})}return"GMV:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"GMV:0"}},criteo:function(e){if(!e)return"CRT:0";try{var t=E("criteo").useNewBidSystem,a=e.split("'")[1].slice(0,-1).split(";");a=a.map(function(e){return e.slice(0,-2)});for(var r=0;r<a.length;r++)if(o[a[r]]){_("OK - received bid: vendor [criteo], format ["+o[a[r]][0]+"].");var n={id:A.Worker.generateRandomId(16),vendor:"criteo",format:o[a[r]][0],price:o[a[r]][1],cpm:100*o[a[r]][1],range:null,advertiser:"criteo",creative:"",tagvars:[{key:"crt",value:a[r]}],code:a[r],won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:t};A.bidStore.push(n),A.bidStoreArchive.push(n),A.Events.dmpEvent("rtaBid",{format:o[a[r]][0],price:o[a[r]][1],advertiser:"criteo",vendor:"criteo"})}return"CRT:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"CRT:0"}},criteo_2:function(e){if(!e)return"CRT:0";try{var t=JSON.parse(e),a=E("criteo_2"),r=a.useNewBidSystem,n=a.slotIds;for(var o in n)n.hasOwnProperty(o)&&t.slots&&t.slots.forEach(function(e){if(e.zoneid===n[o]){_("OK - received bid: vendor [criteo_2], format ["+o+"].");var t={id:A.Worker.generateRandomId(16),vendor:"criteo",format:o,price:Math.floor(100*e.cpm)/100,cpm:Math.floor(100*e.cpm),advertiser:"criteo",range:"",creative:'<script src="'+e.displayurl+'"><\/script>',tagvars:[],code:e.zoneid,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:r};A.bidStore.push(t),A.bidStoreArchive.push(t),A.Events.dmpEvent("rtaBid",{format:o,price:Math.floor(100*e.cpm)/100,advertiser:"criteo_2",vendor:"criteo_2"})}});return"CRT:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"CRT:0"}},seeding:function(e){if(!e)return"SEE:0";try{for(var t=JSON.parse(e),a=E("seeding").useNewBidSystem,r=0;r<t.length;r++){var n=t[r].pos,o=Math.floor(100*t[r].bid),i="",s="abcdefghijklmnopqrstuvwxyz".split(""),d=Math.floor(o/25);d<=25?i=s[d]:26<=d&&d<=51?(i="a",i+=s[d-26]):52<=d&&d<=77?(i="b",i+=s[d-52]):78<=d&&d<=103&&(i="c",i+=s[d-78]);var l="cnt"===n?"hor":"ver";_("OK - received bid: vendor [seeding], format ["+l+"].");var g={id:A.Worker.generateRandomId(16),vendor:"seeding",format:l,price:t[r].bid,cpm:100*t[r].bid,advertiser:"seeding",range:i,tagvars:[{key:"sa"+n,value:t[r].id},{key:"sa"+n+"r",value:i}],code:t[r].id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:a};A.bidStore.push(g),A.bidStoreArchive.push(g),A.Events.dmpEvent("rtaBid",{format:l,price:t[r].bid,advertiser:"seed",vendor:"seeding"})}return"SEE:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"SEE:0"}},wfx:function(e){try{A.Tag.addTagVar("wfxtg",e.wfxtg.current.toString()),A.Tag.addTagVar("wfxtg_0",e.wfxtg.dailyForecast[0].trigger.toString()),A.Tag.addTagVar("wfxtg_1",e.wfxtg.dailyForecast[1].trigger.toString()),A.Tag.addTagVar("wfxtg_2",e.wfxtg.dailyForecast[2].trigger.toString())}catch(e){A.Debug.logger("Error processing header bidding request: "+e)}},facebook:function(e){if(!e)return"FB:0";try{var t=JSON.parse(e).bids,a=E("facebook"),r=a.slotIds,n=a.useNewBidSystem;for(var o in r)if(r.hasOwnProperty(o)&&t)for(var i in t)if(t.hasOwnProperty(i)&&t[i][0].placement_id===r[o]){var s;switch(o){case"mmr":s="300x250";break;case"mc61":s="320x50";break;default:return null}_("OK - received bid: vendor [facebook], format ["+o+"].");var d={id:A.Worker.generateRandomId(16),vendor:"facebook",format:o,price:Math.floor(t[i][0].bid_price_cents)/100,cpm:Math.floor(t[i][0].bid_price_cents),advertiser:"facebook",creative:"<div style='display:none;position:relative;'><iframe style='display:none;'></iframe><script type='text/javascript'>var data = {placementid: '"+t[i][0].placement_id+"', format: '"+s+"', bidid: '"+t[i][0].bid_id+"', testmode: "+a.testMode+", onAdLoaded: function(element) {console.log('Audience Network ad loaded');element.style.display = 'block';},onAdError: function(errorCode, errorMessage) {console.log('Audience Network error (' + errorCode + ') ' + errorMessage);}};(function(w,l,d,t){var a=t();var b=d.currentScript||(function(){var c=d.getElementsByTagName('script');return c[c.length-1];})();var e=b.parentElement;e.dataset.placementid=data.placementid;var f=function(v){try{return v.document.referrer;}catch(e){}return'';};var g=function(h){var i=h.indexOf('/',h.indexOf('://')+3);if(i===-1){return h;}return h.substring(0,i);};var j=[l.href];var k=false;var m=false;if(w!==w.parent){var n;var o=w;while(o!==n){var h;try{m=m||(o.$sf&&o.$sf.ext);h=o.location.href;}catch(e){k=true;}j.push(h||f(n));n=o;o=o.parent;}}var p=l.ancestorOrigins;if(p){if(p.length>0){data.domain=p[p.length-1];}else{data.domain=g(j[j.length-1]);}}data.url=j[j.length-1];data.channel=g(j[0]);data.width=screen.width;data.height=screen.height;data.pixelratio=w.devicePixelRatio;data.placementindex=w.ADNW&&w.ADNW.Ads?w.ADNW.Ads.length:0;data.crossdomain=k;data.safeframe=!!m;var q={};q.iframe=e.firstElementChild;var r='https://www.facebook.com/audiencenetwork/web/?sdk=5.5';for(var s in data){q[s]=data[s];if(typeof(data[s])!=='function'){r+='&'+s+'='+encodeURIComponent(data[s]);}}q.iframe.src=r;q.tagJsInitTime=a;q.rootElement=e;q.events=[];w.addEventListener('message',function(u){if(u.source!==q.iframe.contentWindow){return;}u.data.receivedTimestamp=t();if(this.sdkEventHandler){this.sdkEventHandler(u.data);}else{this.events.push(u.data);}}.bind(q),false);q.tagJsIframeAppendedTime=t();w.ADNW=w.ADNW||{};w.ADNW.Ads=w.ADNW.Ads||[];w.ADNW.Ads.push(q);w.ADNW.init&&w.ADNW.init(q);})(window,location,document,Date.now||function(){return+new Date;});<\/script><script type='text/javascript' src='https://connect.facebook.net/en_US/fbadnw.js' async><\/script></div>",tagvars:[],code:t[i][0].bid_id,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:n};A.bidStore.push(d),A.bidStoreArchive.push(d),A.Events.dmpEvent("rtaBid",{format:o,price:Math.floor(t[i][0].bid_price_cents)/100,advertiser:"facebook",vendor:"facebook"})}return"FB:1"}catch(e){return A.Debug.logger("Error processing header bidding request: "+e),"FB:0"}},amazon_tam:function(e,t){var a=E("amazon_tam"),r=a.timeout?a.timeout:500,n={sb:[728,90],sky:[160,600],mr:[300,250],mmr:[300,250],hpa:[300,600],bb:[800,250],mc61:[320,50],wbb:[970,250]},o=[];e.forEach(function(e){n[e]&&o.push(n[e])}),w.apstag.fetchBids({slots:[{slotID:t.target,slotName:t.target,sizes:o}],timeout:r},function(e){e.forEach(function(a){var e=A.Worker.generateRandomId(16),t=function(){var e=a.size.split("x");for(var t in n)if(n.hasOwnProperty(t)&&parseInt(e[0])===n[t][0]&&parseInt(e[1])===n[t][1])return _("OK - received bid: vendor [amazon_tam], format ["+t+"]"),"mmr"===t&&(t="mr"),t}(),r={id:e,vendor:"amazon_tam",format:t,price:"hidden",cpm:null,advertiser:"amazon_tam",range:"",amz_hash:a.amznbid,creative:'<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,"'+a.amzniid+'");amzn_x=amzn_c}catch(e){}amzn_x++};<\/script>',tagvars:[{key:"tam",value:t+"_"+a.amznbid},{key:"tambid",value:t+"_"+e}],code:a.amznbid,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:!1};A.bidStore.push(r),A.bidStoreArchive.push(r)})})},amazon_tam_video:function(){w.apstag.fetchBids({slots:[{slotID:"videoSlot",mediaType:"video"}]},function(e){e.forEach(function(e){var t=A.Worker.generateRandomId(16),a={id:t,vendor:"amazon_tam",format:"vp",price:"hidden",cpm:null,advertiser:"amazon_tam",range:"",amz_hash:e.amznbid,creative:"",tagvars:[{key:"tam",value:e.amznbid},{key:"tamid",value:e.amzniid},{key:"tambid",value:t}],code:e.amznbid,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:!1};A.bidStore.push(a),A.bidStoreArchive.push(a)})})},meetrics_bridge:function(e){try{A.Debug.logger(e);var t=JSON.parse(e);if(void 0===Object.keys(t)[0])return void A.Debug.logger("BRIDGE server response invalid");var a=Object.keys(t)[0].split("_")[1],r=t[Object.keys(t)[0]],n=Object.keys(r).filter(function(e){return"50_999"===e||"100_999"===e}).reduce(function(e,t){return e[t]=r[t],e},{});n.updatedAt=new Date;var o=JSON.parse(A.Worker.readCookie("bfaBridge")),i={};A.Debug.logger("BRIDGE Cookie found!"),o&&null!=o&&(i=o)?(i[a]||(i[a]={}),i[a]=n):(i={})[a]=n,A.Worker.createCookie("bfaBridge",JSON.stringify(i)),A.Debug.logger("BRIDGE cookie saved:"),A.Debug.logger(A.Worker.readCookie("bfaBridge"))}catch(e){A.Debug.logger("BRIDGE server response couldnt be read:"),A.Debug.logger(e)}}},T={amazon:function(){!function(){var e=[],r=[];if(w.amznads){try{e=amznads.getTokens()}catch(e){_("ERROR - Amazon .getTokens() failed: "+e)}if(e instanceof Array&&0<e.length){var t=E("amazon"),o=t.useNewBidSystem;e.map(function(e){if(r.length){for(var t=!1,a=0;a<r.length;a++)-1!=e.indexOf("vp")&&e.substring(0,1)===r[a].substring(0,1)?(t=!0,parseInt(e.slice(2))<parseInt(r[a].slice(2))&&(r[a]=e)):e.substring(0,4)===r[a].substring(0,4)&&(t=!0,i[e.slice(4)]>i[r[a].slice(4)]&&(r[a]=e));t||r.push(e)}else r.push(e)}),r.forEach(function(e){var t,a,r;r=-1!==e.indexOf("vp")&&w.amznads.amzn_vid?(t="vp",a=[{key:"amzn_vid",value:w.amznads.amzn_vid.toString()},{key:"amznslots",value:e}],i[e]):(t=s[e.substring(0,4)],a=[{key:"amznslots",value:e}],i[e.slice(4)]),_("OK - received bid: vendor [amazon], format ["+t+"].");var n={id:A.Worker.generateRandomId(16),vendor:"amazon",format:t,price:r,cpm:100*r,advertiser:"amazon",creative:'<script type="text/javascript">try { window.top.amznads.renderAd(document, "'+a[0].value+'"); } catch(e) {}<\/script>',range:null,tagvars:a,code:a[0].value,won:!1,generated:(new Date).getTime(),lastUsed:0,useNewBidSystem:"vp"!==t&&o};A.bidStore.push(n),A.bidStoreArchive.push(n),A.Events.dmpEvent("rtaBid",{format:t,price:r,advertiser:"amazon"})})}}}()},amazon_tam:function(){A.Debug.logger("OK - injecting Amazon TAM"),function(a,r,e,t,n,o,i){function s(e,t){r[a]._Q.push([e,t])}r[a]||(r[a]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=e.createElement("script")).async=!0,o.src="../../c.amazon-adsystem.com/aax2/apstag.js",(i=e.getElementsByTagName("script")[0]).parentNode.insertBefore(o,i))}("apstag",w,R),w.apstag.init({pubID:"3128"})},gpt:function(){A.Debug.logger("OK - injecting GPT."),w.googletag=w.googletag||{},w.googletag.cmd=w.googletag.cmd||[],function(){var e=R.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==R.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var a=R.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}()},killswitch:function(){A.Debug.logger("OK - injecting KS.");var e=("https:"===R.location.protocol?"https:":"http:")+"//a.bf-ad.net/makabo/js_ng/ae_ks.js";A.Worker.writeScriptNode(e)},emetriq:function(){A.Debug.logger("OK - injecting emetriq.");var e=("https:"===R.location.protocol?"https:":"http:")+"//ups.xplosion.de/loader/91628/default.js?xplrdir=1";A.Worker.writeScriptNode(e)},nudge:function(){A.Debug.logger("OK - injecting Nudge.");var e=("https:"===R.location.protocol?"https:":"http:")+"//cdn.ndg.io/all-ndg-6812039839.js";A.Worker.writeScriptNode(e)},dataengine:function(e){if(e.exception&&w[e.exception[0]]===e.exception[1])A.Debug.logger("WARNING - Data Engine was not loaded because an exception is configured.");else{A.Debug.logger("OK - injecting Data Engine."),w._deq=w._deq||[],e.context&&_deq.push(["setContext",e.context]),_deq.push(["init"]);var t=("https:"===R.location.protocol?"https:":"http:")+"//a.bf-tools.net/de/de.js";A.Worker.writeScriptNode(t,function(){void 0!==e.consent&&!1===e.consent&&w.permutive.consent({opt_in:!1})})}},infolayer:function(e){e.siteName&&(A.Worker.writeStyleNode("https://a.bf-ad.net/packages/info-layer/"+e.siteName+"/bfa_infolayer_styles.css"),A.Worker.writeScriptNode("https://a.bf-ad.net/packages/info-layer/"+e.siteName+"/bfa_infolayer.js"))},criteo:function(){A.Worker.writeScriptNode("../../static.criteo.net/js/ld/publishertag.js",function(){w.Criteo=w.Criteo||{},w.Criteo.events=w.Criteo.events||[]},{},!0)},datalayer:function(){var e=("https:"===location.protocol?"https:":"http:")+"//a.bf-ad.net/packages/data-layer/"+A.Config.siteName+"_bfa_dl.js";A.Worker.writeScriptNode(e)}};function C(e){if("function"==typeof e){var t=A.Worker.getQueryParameter("yp_debug"),a=A.Worker.getQueryParameter("yp_key"),r=A.Worker.getQueryParameter("yp_val");t&&a&&r&&(e("ypdk",a),-1!==r.indexOf(",")&&(r=encodeURIComponent(r)),e("ypdv",r))}}function E(e){for(var t=A.Config.rtbConfig,a=0;a<t.bidderList.length;a++)if(t.bidderList[a].name===e)return t.bidderList[a];for(var r in t.specialBidders)if(t.specialBidders.hasOwnProperty(r)&&r===e)return t.specialBidders[r];for(a=0;a<t.injectors.length;a++)if(t.injectors[a].name===e)return t.injectors[a];return!1}var e=w.addEventListener?"addEventListener":"attachEvent",t="attachEvent"===e?"onmessage":"message";return(0,w[e])(t,function(a){if(a&&a.data&&(l="requestNativeAd",-1!==JSON.stringify(a.data).indexOf(l))){var e=JSON.parse(a.data),t=e.requestNativeAd.creative_xhr_url,r=e.requestNativeAd.slot,n=e.requestNativeAd.id;if(A&&A.adSlot["tag"+r]&&!0!==A.adSlot["tag"+r].nativeAdrequested){var o=A.adSlot["tag"+r].container.getElementsByTagName("iframe")[0].contentWindow;i=t,s=function(e,t){null!==e?console.log("Yieldlab native has error: "+e):null!==t?o.postMessage('{"nativeAdAssetsSend":{"bid_id":"'+n+'","assets":'+JSON.stringify(t)+"}}",a.origin):A.Debug.logger("No valid json reponse from Yiedlab")},(d=new XMLHttpRequest).open("http://images.intellicast.com/Scripts/GET",i,!0),d.responseType="json",d.onload=function(){var e=d.status;s(200===e?null:e,d.response)},d.send(),A.adSlot["tag"+r].nativeAdrequested=!0}else A.Debug.logger("No TFM Object to get iframe reference for xhr json delivery call")}var i,s,d,l},!1),{getBids:function(r){var n=A.Config.rtbConfig,o=(new Date).getTime();A.bidStore.length&&(A.bidStore=A.bidStore.filter(function(e){if(e.generated+3e5>=o)return!0}));var t=A.bidStore,e=r.rtbFormats;if(!e)return _(".getBids: no rtb formats configured for this slot"),!1;var i,a=n.bidderList.filter(function(e){if(!0===e.active&&!0===e.onDemand)return!0}),s=[];a.forEach(function(a){i=[],e.forEach(function(e){for(var t in a.slotIds)a.slotIds.hasOwnProperty(t)&&t===e&&i.push(t)}),s.push([a.name,i])}),t.length&&(s=s.filter(function(e){return t.forEach(function(t){e[0]===t.vendor&&(e[1]=e[1].filter(function(e){return e!==t.format}))}),!!e[1].length}));var d=n.bidderConf.callLimit;o=(new Date).getTime(),g(l(s=s.filter(function(a){return a[1]=a[1].filter(function(e){for(var t=0;t<n.bidderList.length;t++)if(n.bidderList[t].name===a[0])return n.bidderList[t].slotIds[e+"LastCall"]?n.bidderList[t].slotIds[e+"LastCall"]+d<=o&&(_("OK - slot ["+r.sequence+"] requesting new bid: vendor ["+a[0]+"], format ["+e+"]."),n.bidderList[t].slotIds[e+"LastCall"]=(new Date).getTime(),!0):(_("OK - slot ["+r.sequence+"] requesting new bid: vendor ["+a[0]+"], format ["+e+"]."),n.bidderList[t].slotIds[e+"LastCall"]=(new Date).getTime(),!0)}),!!a[1].length}),r),r)},addBidderTargeting:function(r){var t=A.Config.rtbConfig,e=r.rtbFormats,a=[];A.bidStore.forEach(function(t){e.forEach(function(e){t.format===e&&a.push(t)})});var n,o=[],i=[];a.forEach(function(e){e.useNewBidSystem?i.push(e):o.push(e)}),i.length&&i.forEach(function(e){n?n.cpm<e.cpm&&(n=e):n=e});var s=r.googleTagObject;if(s){_("OK - slot ["+r.sequence+"] reload, add kvs to google tag");var d=s.getTargetingKeys().map(function(e){return[e,s.getTargeting(e)]});if(r.bids=r.bids||[],r.bids&&r.bids.length&&r.bids.forEach(function(e){e.useNewBidSystem?d=d.filter(function(e){return"hb_f"!==e[0]&&"hb_p"!==e[0]&&"hb_a"!==e[0]&&"hb_c"!==e[0]&&"hb_v"!==e[0]&&"hb_id"!==e[0]||(_("OK - slot ["+r.sequence+"] remove old bid: key ["+e[0]+"], value ["+e[1]+"]."),!1)}):e.tagvars.forEach(function(t){d=d.filter(function(e){return e[0]!==t.key||(_("OK - slot ["+r.sequence+"] remove old bid: key ["+t.key+"], value ["+t.value+"]."),!1)})})}),n){var l=(new Date).getTime();"st"!==n.format&&"wp"!==n.format&&n.lastUsed+t.bidderConf.reuseLimit>=l?_("WARNING - bid has been used too recently, skipping bid"):(_("OK - slot ["+r.sequence+"] adding new bid to google tag: vendor ["+n.vendor+"], format ["+n.format+"]."),d.push(["hb_f",n.format]),d.push(["hb_p",n.cpm]),d.push(["hb_c",n.code]),d.push(["hb_v",n.vendor]),d.push(["hb_id",n.id]),n.lastUsed=(new Date).getTime(),r.bids.push(n))}o.length&&o.forEach(function(a){var e=(new Date).getTime();"st"!==a.format&&"wp"!==a.format&&a.lastUsed+t.bidderConf.reuseLimit>=e?_("WARNING - bid has been used too recently, skipping bid"):(_("OK - slot ["+r.sequence+"] adding new bid to google tag: vendor ["+a.vendor+"], format ["+a.format+"]."),a.tagvars.forEach(function(e){d.push([e.key,e.value]),a.lastUsed=(new Date).getTime();var t=!1;r.bids.forEach(function(e){e.vendor===a.vendor&&e.format===a.format&&(t=!0)}),t||r.bids.push(a)}))}),s.clearTargeting(),d.forEach(function(e){e[0]&&e[1]&&s.setTargeting(e[0].toString(),e[1].toString())})}else r.bids=[],_("OK - slot ["+r.sequence+"] first load."),A.bidStore.forEach(function(e){e.useNewBidSystem||e.tagvars.forEach(function(e){A.Tag.removeTagVar(e.key,e.value)})}),A.Tag.setTagVar("hb_f",""),A.Tag.setTagVar("hb_p",""),A.Tag.setTagVar("hb_a",""),A.Tag.setTagVar("hb_c",""),A.Tag.setTagVar("hb_v",""),A.Tag.setTagVar("hb_id",""),_("OK - slot ["+r.sequence+"] removed all old bids."),n&&(l=(new Date).getTime(),"st"!==n.format&&"wp"!==n.format&&n.lastUsed+t.bidderConf.reuseLimit>=l?_("OK - slot ["+r.sequence+"] bid not eligible: vendor ["+n.vendor+"], format ["+n.format+"]."):(_("OK - slot ["+r.sequence+"] adding eligible bid: vendor ["+n.vendor+"], format ["+n.format+"]."),A.Tag.setTagVar("hb_f",n.format),A.Tag.setTagVar("hb_p",n.cpm),A.Tag.setTagVar("hb_c",n.code),A.Tag.setTagVar("hb_v",n.vendor),A.Tag.setTagVar("hb_id",n.id),n.lastUsed=(new Date).getTime(),r.bids.push(n))),o.forEach(function(a){var e=(new Date).getTime();"st"!==a.format&&"wp"!==a.format&&a.lastUsed+t.bidderConf.reuseLimit>=e?_("OK - slot ["+r.sequence+"] bid not eligible: vendor ["+a.vendor+"], format ["+a.format+"]."):(_("OK - slot ["+r.sequence+"] adding eligible bid: vendor ["+a.vendor+"], format ["+a.format+"]."),a.tagvars.forEach(function(e){A.Tag.addTagVar(e.key,e.value),a.lastUsed=(new Date).getTime();var t=!1;r.bids.forEach(function(e){e.vendor===a.vendor&&e.format===a.format&&(t=!0)}),t||r.bids.push(a)}))});"VGPT"!==r.mode&&(r.queue.removeLast(),r.queue.callNext(r.sequence))},removeBid:u,init:function(){var e=A.Config.rtbConfig,r=!1,n=!1,o=[];if(e&&e.injectors&&e.injectors.forEach(function(e){e.active&&"function"==typeof T[e.name]&&T[e.name](e)}),e&&e.bidderList&&e.bidderList.forEach(function(t){if(t.active)if(t.onDemand)n=!0;else{r=!0;var e=[];for(var a in t.slotIds)t.slotIds.hasOwnProperty(a)&&e.push(a);e.length&&(e.forEach(function(e){_("OK - requesting new non-onDemand bid: vendor ["+t.name+"], format ["+e+"].")}),o.push([t.name,e]))}}),e&&e.specialBidders){var t=e.specialBidders;t.wfx&&t.wfx.active&&b("wfx","JSONP",v(t.wfx),t.wfx.timeout,y.wfx),!function(){var e=A.Worker.readCookie("adp_segs");if(e){_("OK - setting up ADP data for YP.");for(var t="",a="",r=["e2","e1","e63","e64"],n="",o=["e3","e4","e5","e6","e7","e8","e1f","e1m","e1o","e1p","e1q","e1r"],i="",s=["e2c","e3v","e3w","e3x","e3z","e4b","e4c","e4d","e4e","e4f","e4g","e4h","e4i","e4j","e4k","e4l","e4m","e4n","e4o","e4p","e4q","e4r","e4t","e4v","e4w","e4x","e4z","e40","e41","e43","e45","e46","e47","e48","e49","e50","e51","e52"],d="",l=["ea","e3a","eb","ec","ed","e3c","e3d","e3e","e3q","e3r","e3s","e3t","e55","e56"],g="",c=["e9","e3k","e3l","e3m","e3n","e3o","e3p","e3u","e6o","e6p","e6q","e6s","e6t","e35","e36","e37","e39","e53","e54"],u=0;u<r.length;u++)-1!==e.indexOf(r[u])&&(a?a+=","+r[u]:a=r[u]);for(var u=0;u<o.length;u++)-1!==e.indexOf(o[u])&&(n?n+=","+o[u]:n=o[u]);for(var u=0;u<s.length;u++)-1!==e.indexOf(s[u])&&(i?i+=","+s[u]:i=s[u]);for(var u=0;u<l.length;u++)-1!==e.indexOf(l[u])&&(d?d+=","+l[u]:d=l[u]);for(var u=0;u<c.length;u++)-1!==e.indexOf(c[u])&&(g?g+=","+c[u]:g=c[u]);var f=e}else _("ERROR - no ADP cookie found to use for YP.");a&&(t+="adp_sx="+a+"&"),n&&(t+="adp_ag="+n+"&"),i&&(t+="adp_in="+i+"&"),d&&(t+="adp_fa="+d+"&"),g&&(t+="adp_bu="+g+"&"),f&&(t+="emqsegs="+f),t&&(A.Config.ypADPParam=t)}(),(a=A.Worker.readCookie("_pdfps"))&&(a=decodeURIComponent(a).replace(/\[/,"").replace(/\]/,"").replace(/"/g,"")),A.Config.permutiveSegments="permutive="+a}var a;r?(A.Config.bidActive=!0,g(l(o))):A.ThirdParty().setVideoURLAsReady(),n&&(A.Config.bidOnDemand=!0)},renderAd:function(e,t,a,r){var n,o,i,s,d=!1;if(A.bidStore.forEach(function(e){e.id===t&&(n=e.creative,e.trackers&&(i=e.trackers),"conative"===e.vendor&&e.creativeId&&(d=!0,s=e.code,o=e.creativeId))}),n){if(_(e===R?"ERROR - slot ["+a+"] prevented an ad to write to the current document.":"OK - slot ["+a+"] rendering ad for bid id ["+t+"]."),d)d&&r&&(void 0===w.dm_ccc_cmd&&(w.dm_ccc_cmd=[]),w.dm_ccc_cmd.push({cmd:"renderBooking",arguments:{adSlotId:s,bookingId:o}}),w.dm_ccc_cmd.push({cmd:"moveToNode",arguments:{adSlotId:s,targetNode:r}}));else if(e.write(n),i&&i instanceof Array)for(var l=0;l<i.length;l++)(new Image).src=i[l]}else _("ERROR - slot ["+a+"] no ad available to render for bid id ["+t+"].");u(t)},criteo_pp:o,amzn_p:i,amzn_f:s,smartclipDirect:function(e,t){if(A.Config.useVlyBy)(a=R.createElement("script")).async="true",a.type="text/javascript",a.setAttribute("data-PubId","00ugntwo2gTIHZbeA0h7"),a.setAttribute("data-DivId",t),R.head.appendChild(a),a.src="../../cdn.vlyby.com/qad/qad-outer.js";else{var a,r="//des.smartclip.net/ads?type=dyn&plc="+e+"&sz=400x320&ress="+adsc_adunit2+"&elementId="+t;r+="&ref="+encodeURIComponent(w.top.document.URL),r+="&rnd="+Math.round(1e8*Math.random()),(a=R.createElement("script")).type="text/javascript",a.src=r,R.body.appendChild(a)}},vendorMapping:c,getVendors:function(){for(var s=[],e=0;e<A.Config.rtbConfig.bidderList.length;e++){var t=A.Config.rtbConfig.bidderList[e].name;if(c[t])var a=c[t].displayName;if(a)var r=s.some(function(e){return e.name===a});else r=s.some(function(e){return e.name===t});if(void 0===(o=A.Config.rtbConfig.bidderList[e].activeThirdParty)&&(o=!1),!r){var n=a||t;o&&s.push({name:n,id:c[t].id})}}for(Object.keys(A.Config.rtbConfig.specialBidders).forEach(function(e,t){var a=A.Config.rtbConfig.specialBidders[e].name;if(c[a])var r=c[a].displayName;if(r)var n=s.some(function(e){return e.name===r});else n=s.some(function(e){return e.name===a});var o=A.Config.rtbConfig.specialBidders[e].activeThirdParty;if(void 0===o&&(o=!1),!n){var i=r||a;o&&s.push({name:i,id:c[a].id})}}),e=0;e<A.Config.rtbConfig.injectors.length;e++){var o;t=A.Config.rtbConfig.injectors[e].name,c[t]&&(a=c[t].displayName),r=a?s.some(function(e){return e.name===a}):s.some(function(e){return e.name===t}),void 0===(o=A.Config.rtbConfig.injectors[e].activeThirdParty)&&(o=!1),r||(n=a||t,o&&s.push({name:n,id:c[t].id}))}return s},disableVendor:f,consentVendorQuery:h,startEngineWithCmpConfig:function(){return new Promise(function(a,r){if(A.Config&&void 0!==A.Config.bfConsentToolActive&&A.Config.bfConsentToolActive){var e=w.addEventListener?"addEventListener":"attachEvent",t="attachEvent"===e?"onmessage":"message";(0,w[e])(t,function(t){function e(e){return-1!==JSON.stringify(t.data).indexOf(e)}t&&t.data&&(e("oil_optin_done")||e("oil_auto_optin_done"))&&n().then(function(e){h(e).then(a,r)},r)},!1),n().then(function(e){h(e).then(a,r)},r)}else a()})},completeThirdPartyConfiguration:function(){w.adsc_waitForTPConfig=null,A.Engine.start()},setVideoURLAsReady:r}},A.adSlot={},A.Tag={params:{mobile:{mode:!1,deviceType:""},tileCount:0,smCount:0,adConfig:[],gptMode:"infinite",sRAGroup:[]}},A.Tag.init=function(){var e=A.Tag.params,t=A.Config;A.Tag.updateAdTypeConfig(),A.Tag.updateSiteVars(),A.Debug.logger("OK - called .specialConfig.init()."),u.specialConfig.init(),A.Debug.logger("WARNING - GPT mode set to infinite scrolling/async by default. Other modes are not supported with this AdEngine version."),e.gptMode="infinite",t.gptMode="infinite",void 0!==w.adsc_mobile?"true"===w.adsc_mobile||!0===w.adsc_mobile?(A.Debug.logger("OK - according to adsc_mobile, this is a mobile device."),e.mobile.mode=!0,void 0!==w.adsc_device?"smartphone"===w.adsc_device?(A.Debug.logger("OK - according to adsc_device, this is a smartphone type device. Switching to smartphone mode."),e.mobile.deviceType="smartphone"):"tablet"===w.adsc_device?(A.Debug.logger("OK - according to adsc_device, this is a tablet type device. Switching to tablet mode."),e.mobile.deviceType="tablet"):(A.Debug.logger("WARNING - adsc_device does not have a valid value. Defaulting to smartphone mode."),e.mobile.deviceType="smartphone"):(A.Debug.logger("WARNING - adsc_device has NOT been defined. Defaulting to smartphone mode."),e.mobile.deviceType="smartphone")):(A.Debug.logger("OK - according to adsc_mobile, this is not a mobile device. Defaulting to desktop mode."),e.mobile.mode=!1,e.mobile.deviceType="desktop"):(A.Debug.logger("WARNING - adsc_mobile has NOT been defined. Defaulting to desktop mode."),e.mobile.mode=!1,e.mobile.deviceType="desktop"),A.Tag.updateSRACombo()},A.Tag.updateMapping=function(){A.Tag.params.au=[];var e=A.Tag.params.au;if(e[0]=A.Config.siteName,A.Config.useNewMappingStructure){var t=[w.adsc_adunit2,w.adsc_adunit3,w.adsc_adunit4,w.adsc_adunit5],a=A.Mapping,r=a.sonstiges;if(r||(A.Debug.logger("ERROR - TFM.Mapping is not defined. Setting defaults."),r=(a={sonstiges:["sonstiges",{}]}).sonstiges),w.adsc_adunit1&&(e[0]=w.adsc_adunit1),e[1]=r[0],0===t[0].indexOf("pn_"))e[1]=t[0];else{var n,o,i=[],s="";if(-1!==t[0].indexOf("_")&&(i=t[0].split("_")),i[0]&&(s=i[0]),2<i.length?index=2:index=1,i[index])if(A.Config.secondAdUnitWhiteList)A.Config.secondAdUnitWhiteList.forEach(function(e){e===i[index]&&(n=!0,o=e)});a[t[0]]||a[s]?("pn"!==(r=a[t[0]]?a[t[0]]:a[s])[0]&&(e[1]=r[0]),n&&o&&"1"==index?e[1]=e[1]+"_"+o:n&&o&&"2"==index&&(e[1]=t[0]),r[1][t[1]]&&(r=r[1][t[1]],e[2]=r[0],r[1][t[2]]&&(r=r[1][t[2]],e[3]=r[0],r[1][t[3]]&&(r=r[1][t[3]],e[4]=r[0])))):e[1]="sonstiges"}}else{t=[w.adsc_ressort,w.adsc_rubrik,w.adsc_subchannel];w.adsc_adunit2&&w.adsc_adunit3&&(t[0]=w.adsc_adunit2,t[1]=w.adsc_adunit3);var d=c,l=d.sonstiges;if(e[1]=l[0],e[2]=l[1],d[t[0]]){l=d[t[0]],e[1]=l[0],e[2]=l[1];for(var g=1;g<t.length;g++)l[2]&&l[2][t[g]]&&(""!=(l=l[2][t[g]])[0]&&(e[1]=l[0]),1==g?e[2]=l[1]:e[3]=l[1])}}A.Tag.params.au=e},A.Tag.updateSiteVars=function(){var e={adsc_ressort:"sonstiges",adsc_rubrik:"sonstiges",adsc_layout:"",adsc_keyword:"",adsc_topchannel:"",adsc_channel:"",adsc_subchannel:"",adsc_contentwidth:A.Config.contentWidth.toString(),adsc_adunit1:A.Config.siteName,adsc_adunit2:"",adsc_adunit3:"",adsc_adunit4:"",adsc_adunit5:""},t=A.Config.customVariables;for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a][0]);for(var a in e)e.hasOwnProperty(a)&&(w[a]&&""!==w[a]?w[a]=A.Worker.sanitizeString(w[a]):w[a]=A.Worker.sanitizeString(e[a]));var r=R.location.pathname;w.adsc_document_uri&&(r=w.adsc_document_uri);var n=(r=r.toLowerCase()+"///").split("http://images.intellicast.com/");""!=n[1]&&(A.Tag.params.topchannel=n[1],w.adsc_topchannel=n[1]),""!=n[2]&&(A.Tag.params.channel=n[2],w.adsc_channel=n[2]),""!=n[3]&&(A.Tag.params.subchannel=n[3],w.adsc_subchannel=n[3])},A.Tag.updateSRACombo=function(){if(A.Config.useSRASlotCombo&&A.Config.sRASlotCombo){for(var e,t=A.Config.sRASlotCombo,a=!1,r="SRA slot combo condition",n=0;n<t.length;n++)if("default"!==t[n][0][0]){for(var o=t[n],i=0;i<o.length-1;i++){if(e=o[i][0]+"="+o[i][1],!w[o[i][0]]||w[o[i][0]]!==o[i][1]){A.Debug.logger("WARNING - No "+r+" "+e+" found."),a=!1;break}A.Debug.logger("OK - "+r+" found: "+e),a=!0}if(!0===a){A.Debug.logger("OK - Matching "+r+"s found; config: "+o[o.length-1]),t=o[o.length-1];break}}!1===a&&"default"===t[0][0][0]?(A.Debug.logger("WARNING - no SRA slot combo configuration found, using default."),t=t[0][1]):!1===a&&(A.Debug.logger("ERROR - SRA slot combo not configured."),A.Config.useSRASlotCombo=!1),A.Config.sRASlotCombo=t}},A.Tag.updateAdTypeConfig=function(){A.Debug.logger("OK - updating ad type configuration.");for(var e=A.Config.adTypeConfig,t=0;t<e.length;t++)e[t][1].length&&(e[t][0]=e[t][1]),e[t][3].length&&(e[t][2]+=","+e[t][3]);A.Tag.params.adConfig=e},A.Tag.getAdUnitString=function(){var e,t,a=["_","http://images.intellicast.com/","_","_"],r=["/","_","_","_"],n=["/","http://images.intellicast.com/","http://images.intellicast.com/","/"],o=function(e){return A.Tag.params.au[e]?A.Tag.params.au[e]:null};A.Tag.updateMapping(),t=o(0),A.Config.useNewMappingStructure?e=n:(A.Debug.logger("WARNING - this website is using old ad unit format schemes."),!1===A.Tag.params.mobile.mode?(A.Debug.logger("OK - formatting ad units for desktop."),e=a):(e=r,t="tablet"===A.Tag.params.mobile.deviceType?(A.Debug.logger("OK - formatting ad units for tablet."),"m_mweb_tablet_"+t):(A.Debug.logger("OK - formatting ad units for smartphone."),"m_mweb_"+t)));for(var i=1;o(i);i++)t+=e[i-1],t+=o(i);return t},A.Tag.getAdKeywordValues=function(){var e=null,t=A.Worker.readCookie("tfm_ckw");return null!==t&&4<=t.length&&(e=A.Worker.sanitizeString(t)),A.Worker.getQueryParameter("adkeyword")&&(e?e+=","+A.Worker.getQueryParameter("adkeyword"):e=A.Worker.getQueryParameter("adkeyword")),e},A.Tag.getCustomVarsValues=function(){var e=[],t=A.Config.customVariables;for(var a in t)if(t.hasOwnProperty(a)&&""!==t[a][1]&&""!==w[a])for(var r=A.Worker.sanitizeString(w[a]).split(","),n=0;n<A.Config.maxKeyvalues&&n<r.length;){if(r[n].length<=A.Config.keyvalueMaxLength){for(var o=!1,i=0;i<e.length;i++)e[i][0]===t[a][1]&&(e[i][1]+=","+r[n],o=!0);o||e.push([t[a][1],r[n]])}n++}return e},A.Tag.getPageId=function(){return A.Config.pageId?A.Config.pageId():"0"},A.Tag.getUserId=function(){var e,t=A.Worker.readCookie("tfm_uid");return t?e=t:(e=A.Worker.getRandomString(32),A.Worker.createCookie("tfm_uid",e,525600)),e},A.Tag.startVis=function(e){e.loadTime=(new Date).getTime(),e.visible=!0,A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",e.thrVisHandler),A.Worker.removeEventHandler(w,"resize",e.debVisHandler);var t=A.Worker.getHiddenProperty();if(t){var a=t.replace(/[H|h]idden/,"")+"visibilitychange";A.Worker.removeEventHandler(w,a,e.visHandler)}e.visHandler=function(){A.Events.onSlotHidden(e,A.Tag.stopVis)},e.thrVisHandler=A.Worker.throttle(function(){A.Events.onSlotHidden(e,A.Tag.stopVis)},50),e.debVisHandler=A.Worker.debounce(function(){A.Events.onSlotHidden(e,A.Tag.stopVis)},100),t&&A.Worker.addEventHandler(w,a,e.visHandler),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",e.thrVisHandler),A.Worker.addEventHandler(w,"resize",e.debVisHandler),A.Debug.logger("OK - slot ["+e.sequence+"] is now visible.")},A.Tag.stopVis=function(e){var t=(new Date).getTime();e.visibleTime+=(t-e.loadTime)/1e3,e.visibleTime=Math.round(100*e.visibleTime)/100,e.visible=!1,A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",e.thrVisHandler),A.Worker.removeEventHandler(w,"resize",e.debVisHandler);var a=A.Worker.getHiddenProperty();if(a){var r=a.replace(/[H|h]idden/,"")+"visibilitychange";A.Worker.removeEventHandler(w,r,e.visHandler)}e.visHandler=function(){A.Events.onSlotVisible(e,A.Tag.startVis)},e.thrVisHandler=A.Worker.throttle(function(){A.Events.onSlotVisible(e,A.Tag.startVis)},50),e.debVisHandler=A.Worker.debounce(function(){A.Events.onSlotVisible(e,A.Tag.startVis)},100),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",e.thrVisHandler),A.Worker.addEventHandler(w,"resize",e.debVisHandler),a&&A.Worker.addEventHandler(w,r,e.visHandler),A.Debug.logger("OK - slot ["+e.sequence+"] is now hidden.")},A.Tag.setTagParameters=function(){var e,t,a;a=A.Tag.params,e=(t=A.Config.sessionParams?A.Config.sessionParams:null)?t.userCount:A.Worker.readCookie(A.Config.siteName+"_session")?parseInt(A.Worker.readCookie(A.Config.siteName+"_session")):1;var r=Math.floor(10*Math.random());A.Tag.setTagVar("sz","1x1"),A.Tag.setTagVar("!c","bl_"+w.adsc_adunit1),A.Tag.setTagVar("tfs_usr",e),A.Tag.setTagVar("tile","0"),A.Tag.setTagVar("site",w.adsc_adunit1),A.Tag.setTagVar("res",w.adsc_ressort),A.Tag.setTagVar("rub",w.adsc_rubrik),A.Tag.setTagVar("lay",w.adsc_layout),A.Tag.setTagVar("tagid","0"),A.Tag.setTagVar("pid",A.Tag.getPageId()),A.Tag.setTagVar("tgrp",r),w.adsc_label&&A.Tag.addTagVar("!c",w.adsc_label),A.Worker.getQueryParameter("obref")&&-1!==A.Worker.getQueryParameter("obref").indexOf("outbrain")&&A.Tag.setTagVar("par","outbrain"),A.Debug.logger("OK - set GPT mode tag var [inf]. Adding ad exclusion labels for ads not supported in async mode.");var n=null;A.Config.rtbConfig&&A.Config.rtbConfig.injectors.forEach(function(e){"gpt"===e.name&&(n=e.gptRefreshLabels)}),n?A.Tag.addTagVar("!c",n):A.Tag.addTagVar("!c","c_frm,c_pan,c_exp"),A.Tag.setTagVar("aem","inf"),A.Debug.logger("OK - set Skyscraper visibility tag var.");var o=A.Config.contentWidth+240;void 0!==A.Config.centeredWithSky&&!1===A.Config.centeredWithSky&&(o-=120),w.innerWidth<o?(A.Tag.setTagVar("skv","0"),A.Tag.addTagVar("!c","c_si,c_wp")):A.Tag.setTagVar("skv","1"),A.Debug.logger("OK - set browser window dimension tag var.");var i=function(){var e,t=A.Worker.getWindowProperties().cw,a="";for(e=7;e<=19;e++)100*e<=t&&(a+=e);return a}();A.Tag.setTagVar("tfww",i),A.Tag.setTagVar("tfwiw",w.innerWidth),A.Tag.setTagVar("tfwih",w.innerHeight),A.Debug.logger("OK - set mobile mode and device class tag vars."),!1===a.mobile.mode?A.Tag.addTagVar("!c","c_desktop"):(A.Tag.addTagVar("!c","c_mobile"),"smartphone"===a.mobile.deviceType?A.Tag.addTagVar("!c","c_smartphone"):"tablet"===a.mobile.deviceType&&A.Tag.addTagVar("!c","c_tablet")),A.Debug.logger("OK - cookie and query parameter tag vars."),A.Tag.addTagVar("kw",A.Tag.getAdKeywordValues()),A.Debug.logger("OK - custom site variables tag vars.");for(var s=A.Tag.getCustomVarsValues(),d=0;d<s.length;d++)A.Tag.addTagVar(s[d][0],s[d][1]);A.Tag.addTagVar("uid",A.Tag.getUserId()),A.Tag.setTagVar("iu",A.Tag.getAdUnitString());var l=A.Worker.readCookie("_pdfps");l&&(l=decodeURIComponent(l).replace(/[\[\]"']+/g,""),A.Tag.addTagVar("permutive",l)),A.Debug.logger("OK - special tag vars from init."),u.specialTagvars.init(),A.Worker.getQueryParameter("adkeyword")&&-1!=A.Worker.getQueryParameter("adkeyword").indexOf("ada_debug")&&(A.Worker.getQueryParameter("ada_bid")&&A.Tag.addTagVar("ada_bid",A.Worker.getQueryParameter("ada_bid")),A.Worker.getQueryParameter("ada_cid")&&A.Tag.addTagVar("ada_cid",A.Worker.getQueryParameter("ada_cid")),A.Worker.getQueryParameter("ada_cuid")&&A.Tag.addTagVar("ada_cuid",A.Worker.getQueryParameter("ada_cuid")),A.Worker.getQueryParameter("ada_fid")&&A.Tag.addTagVar("ada_fid",A.Worker.getQueryParameter("ada_fid")),A.Worker.getQueryParameter("ada_bid")&&A.Worker.getQueryParameter("ada_cid")&&A.Worker.getQueryParameter("ada_cuid")&&A.Worker.getQueryParameter("ada_fid")||console.log("Für das Debug-Aufrufen einer AdAudience Buchung werden ada_bid, ada_campaign_id, ada_cuid als Query Parameter benötigt."))},A.Tag.refreshTagParameters=function(){A.Tag.updateSiteVars(),u.specialConfig.init(),-1===A.Tag.getTagVar("iu").toString().indexOf("homad")&&A.Tag.setTagVar("iu",A.Tag.getAdUnitString()),A.Tag.setTagVar("res",w.adsc_ressort),A.Tag.setTagVar("rub",w.adsc_rubrik),A.Tag.setTagVar("lay",w.adsc_layout),A.Tag.setTagVar("pid",A.Tag.getPageId()),A.Config.adUnitsCanBeRefreshed&&(A.Tag.setTagVar("iu",A.Tag.getAdUnitString()),A.Tag.setTagVar("kw",w.adsc_keyword));for(var e=A.Tag.getCustomVarsValues(),t=0;t<e.length;t++)A.Tag.setTagVar(e[t][0],"");for(t=0;t<e.length;t++)A.Tag.addTagVar(e[t][0],e[t][1]);A.Tag.addTagVar("kw",A.Tag.getAdKeywordValues());var a=A.Worker.readCookie("_pdfps");a&&(a=decodeURIComponent(a).replace(/\[/,"").replace(/\]/,"").replace(/"/g,""),A.Tag.addTagVar("permutive",a)),A.Config.rttSegments&&A.Tag.addTagVar("emqrtt",A.Config.rttSegments),u.specialTagvars.init()},A.Tag.manageSlotReload=function(e){if(((e.debRelHandler||e.thrRelHandler)&&(A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",e.thrRelHandler),A.Worker.removeEventHandler(w,"resize",e.debRelHandler),e.relHandler=null),e.userActiveRelHandler&&(A.Worker.removeEventHandler(w,"userActive",e.userActiveRelHandler),e.userActiveRelHandler=null),e.pageVisibleRelHandler)&&(r=A.Worker.getHiddenProperty())){var t=r.replace(/[H|h]idden/,"")+"visibilitychange";A.Worker.removeEventHandler(w,t,e.pageVisibleRelHandler),e.pageVisibleRelHandler=null}var a=!1;if("object"==typeof e)e.sequence&&e===A.adSlot["tag"+e.sequence]&&(a=!0);else if("number"==typeof e)for(var r in A.adSlot)A.adSlot.hasOwnProperty(r)&&e===A.adSlot[r].sequence&&(e=A.adSlot[r],a=!0);else if("string"==typeof e)for(var r in A.adSlot)A.adSlot.hasOwnProperty(r)&&e===A.adSlot[r].target&&(e=A.adSlot[r],a=!0);if(!a)return A.Debug.logger("ERROR - the slot ["+e+"] you want to reload does not exist."),null;if(!e.allowReload)return A.Debug.logger("WARNING - slot ["+e.sequence+"] cannot be reloaded. Reloading is disabled for this slot."),null;if(A.Worker.isPageHidden()){if(r=A.Worker.getHiddenProperty()){t=r.replace(/[H|h]idden/,"")+"visibilitychange";e.pageVisibleRelHandler=function(){A.Events.onPageVisible(e,A.Tag.manageSlotReload)},A.Worker.addEventHandler(w,t,e.pageVisibleRelHandler)}return null}if(!A.Worker.isSlotVisible(e))return e.relHandler=function(){A.Events.onSlotVisible(e,A.Tag.manageSlotReload)},e.thrRelHandler=A.Worker.throttle(function(){A.Events.onSlotVisible(e,A.Tag.manageSlotReload)},50),e.debRelHandler=A.Worker.debounce(function(){A.Events.onSlotVisible(e,A.Tag.manageSlotReload)},100),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",e.thrRelHandler),A.Worker.addEventHandler(w,"resize",e.debRelHandler),null;if(A.Worker.isUserIdle())return e.userActiveRelHandler=function(){A.Events.onUserActive(e,A.Tag.manageSlotReload)},A.Worker.addEventHandler(w,"userActive",e.userActiveRelHandler),null;var n=(new Date).getTime();if(e.visibleTime+=(n-e.loadTime)/1e3,e.visibleTime=Math.round(100*e.visibleTime)/100,e.loadTime=n,!(e.visibleTime>=e.reloadThreshold))return setTimeout(function(){A.Tag.manageSlotReload(e)},1e3),null;if(A.Config.bidOnDemand&&!e.oDLooped)return e.oDLooped=!0,e.queue=new A.Queue,e.queue.enqueue(A.ThirdParty().getBids,e),e.queue.enqueue(A.ThirdParty().addBidderTargeting,e),e.queue.enqueue(A.Tag.manageSlotReload,e),e.queue.callNext(e.sequence),null;var o=e.reloadCount;if(e.reloadCount++,e.googleTagObject){var i=e.googleTagObject.getTargeting("sm");"object"==typeof i?(smArray=i[0].split(","),smArray[2]&&-1!==smArray[2].indexOf("r")&&(smArray[2]="r"+e.reloadCount,e.googleTagObject.setTargeting("sm",smArray))):"string"==typeof i&&(i.replace("r"+o,"r"+e.reloadCount),e.googleTagObject.setTargeting("sm",i)),e.googleTagObject.setTargeting("rl_seq",e.reloadCount+1)}e.reloadThreshold=null;var s=A.Config.reloadThresholdList;if(s)for(var d=0;d<s.length;d++)w[s[d][0]]===s[d][1]&&"number"==typeof s[d][2]&&(e.reloadThreshold=s[d][2]);e.reloadThreshold||(e.reloadThreshold=A.Config.reloadThreshold),e.loadTime=(new Date).getTime(),e.visibleTime=null,e.initTime=(new Date).getTime(),A.Debug.logger("OK - slot ["+e.sequence+"] reloading. This slot has now been reloaded ["+e.reloadCount+"] times."),googletag.pubads().refresh([e.googleTagObject],{changeCorrelator:!1}),e.oDLooped=null,e.reloadCount>=e.maxReloads?e.allowReload=!1:(A.Tag.manageSlotReload(e),A.Debug.logger("OK - slot ["+e.sequence+"] queuing slot for another reload."))},A.Tag.destroy=function(e){if(!e)return A.Debug.logger("ERROR - no container div id supplied."),!1;var t=!1;for(var a in A.adSlot)if(A.adSlot[a].target===e){t=!0;var r=A.adSlot[a];A.Worker.removeEventHandler(w,"DOMContentLoaded",r.smartLoadHandler),A.Worker.removeEventHandler(w,"load",r.smartLoadHandler),r.smartLoadHandler=null,A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",r.smartLoadHandlerThrottled),r.smartLoadHandlerThrottled=null,A.Worker.removeEventHandler(w,"resize",r.smartLoadHandlerDebounced),r.smartLoadHandlerDebounced=null,A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",r.thrRelHandler),r.thrRelHandler=null,A.Worker.removeEventHandler(w,"resize",r.debRelHandler),r.debRelHandler=null,A.Worker.removeEventHandler(w,"userActive",r.userActiveRelHandler),r.userActiveRelHandler=null,A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",r.thrVisHandler),r.thrVisHandler=null,A.Worker.removeEventHandler(w,"resize",r.debVisHandler),r.debVisHandler=null;var n=A.Worker.getHiddenProperty();if(n){var o=n.replace(/[H|h]idden/,"")+"visibilitychange";A.Worker.removeEventHandler(w,o,r.visHandler),r.visHandler=null,A.Worker.removeEventHandler(w,o,r.pageVisibleRelHandler),r.pageVisibleRelHandler=null}try{googletag.destroySlots([r.googleTagObject])}catch(e){A.Debug.logger("ERROR - could not destroy slot ["+r.sequence+"] because: "+e)}return r.visible=!1,r.allowReload=!1,r.container=null,r.target="",r.status="Destroyed",A.Debug.logger("OK - destroyed slot ["+r.sequence+"] in container ["+e+"]."),!0}return t?void 0:(A.Debug.logger("ERROR - no slot found for div id."),!1)},A.Tag.getAdTag=function(e,t,a){var r,n,o=A.Tag.params.adConfig;if("undefined"==typeof TFM_KS);else{if(!1===TFM_KS.ads_enabled)return A.Debug.logger("WARNING - ads disabled, aborting."),null;if(!1===TFM_KS.sites[A.Config.siteName])return A.Debug.logger("WARNING - ads disabled for ["+A.Config.siteName+"], aborting."),null}if(t)for(var i in A.adSlot)if(A.adSlot[i].target===t)return A.Debug.logger("ERROR - you cannot create another ad tag for container element ["+t+"], aborting."),null;if(A.Tag.params.tileCount++,r=A.Tag.params.tileCount,A.Debug.logger("OK - slot ["+r+"] site called tag for ad with type ["+e+"] and target ["+t+"]."),A.Tag.refreshTagParameters(),A.adSlot["tag"+r]={sequence:r,status:"Called",url:null,latency:null,string:null,target:null,container:null,size:null,response:null,params:null,mode:null,useCount:0,loadTime:null,visible:!1,visibleTime:null,size:null,minVisPercent:null,allowReload:!0,reloadCount:null,sRAGroupMember:!1,reloadThreshold:null,reloadCount:0,maxReloads:0,pos:""},n=A.adSlot["tag"+r],e&&"string"==typeof e){e=A.Worker.sanitizeString(e).toUpperCase();for(var s=0;s<o.length;s++)o[s][0]===e&&(n.string=e,n.size=o[s][2],n.params=o[s][5]?o[s][5]:null,n.mode=o[s][6],n.target=R.getElementById(t)?t:"default",n.container=R.getElementById(t)?R.getElementById(t):null,n.allowReload="noreload"!==o[s][4],n.orientation=o[s][7]?o[s][7]:"oe",n.rtbFormats=o[s][8]?o[s][8].split(","):[],"number"==typeof o[s][4]&&0<o[s][4]&&(A.Debug.logger("WARNING - alternate reload threshold ["+o[s][4]+"] defined for string ["+n.string+"]. Reloads allowed for this slot."),n.allowReload=!0,n.reloadThreshold=o[s][4]))}A.Tag.params.disSeq=A.Tag.params.disSeq||0,"MGPT"===n.mode&&(A.Tag.params.disSeq++,n.disSeq=A.Tag.params.disSeq);var d,l=A.Config.reloadThresholdList;if(l)for(s=0;s<l.length;s++)w[l[s][0]]===l[s][1]&&"number"==typeof l[s][2]&&(n.reloadThreshold=l[s][2]);for(var i in!n.reloadThreshold&&A.Config.reloadThreshold?n.reloadThreshold=A.Config.reloadThreshold:A.Config.reloadThreshold||(A.Debug.logger("ERROR - no reload time specified. Reloading disabled."),n.allowReload=!1),A.Config.maxReloads?n.maxReloads=A.Config.maxReloads:(A.Debug.logger("ERROR - no max number of reloads specified. Reloading disabled."),n.allowReload=!1),A.Config.browserFails&&(n.allowReload=!1),A.Config.adUnitControlledByWebsite&&a&&"string"==typeof a&&(A.Debug.logger("WARNING - slot ["+r+"] overwriting ad unit with ["+a+"]."),A.Tag.setTagVar("iu",a)),"OTP"===e&&(A.Debug.logger("ERROR - slot ["+r+"] OTP calls are deprecated."),n.status="Disabled"),"OOP"===e&&(A.Debug.logger("ERROR - slot ["+r+"] OOP calls are deprecated."),n.status="Disabled"),A.Config.allowAsyncOTP||"M_INTERSTITIAL"!==e&&"BENCHMARK"!==e||(n.status="Disabled"),A.adSlot)A.adSlot.hasOwnProperty(i)&&A.adSlot[i].string&&-1!==A.adSlot[i].string.indexOf(e)&&n.useCount++;if(!n.string)return n.status="Invalid",A.Debug.logger("ERROR - invalid tag type ["+e+"] requested, aborting."),null;if("Disabled"===n.status)return A.Debug.logger("WARNING - slot ["+r+"] type ["+e+"] not allowed, aborting."),null;if(!n.container&&"VGPT"!==n.mode)return n.status="No Target",A.Debug.logger("ERROR - slot ["+r+"] target element ["+t+"] doesn't exist, aborting."),null;!A.Config.checkedScrollElement&&w.adsc_scrollelemid&&(A.Config.checkedScrollElement=!0,(d=R.getElementById(w.adsc_scrollelemid))&&(A.Config.scrollElement=d,A.Debug.logger("OK - scroll event element override by publisher: ["+w.adsc_scrollelemid+"].")));!A.Config.checkedScrollElement&&w.adsc_scrollelement&&(A.Config.checkedScrollElement=!0,(d=R.querySelector(w.adsc_scrollelement))&&(A.Config.scrollElement=d,A.Debug.logger("OK - scroll event element override by publisher: ["+w.adsc_scrollelement+"].")));switch("MGPT"===n.mode&&(n.deviceType=A.Tag.params.mobile.deviceType,A.Tag.params.smCount++,n.smSequence=A.Tag.params.smCount,-1!==n.orientation.indexOf("h")&&(A.Tag.params.hCount=A.Tag.params.hCount||0,A.Tag.params.hCount+=1,n.hCount="h"+A.Tag.params.hCount),-1!==n.orientation.indexOf("v")&&(A.Tag.params.vCount=A.Tag.params.vCount||0,A.Tag.params.vCount+=1,n.vCount="v"+A.Tag.params.vCount),-1!==n.orientation.indexOf("q")&&(A.Tag.params.qCount=A.Tag.params.qCount||0,A.Tag.params.qCount+=1,n.qCount="q"+A.Tag.params.qCount),-1!==n.orientation.indexOf("oop")&&(A.Tag.params.oopCount=A.Tag.params.oopCount||0,A.Tag.params.oopCount+=1,n.oopCount="oop"+A.Tag.params.oopCount),"oe"===n.orientation&&(A.Debug.logger("ERROR - slot ["+n.sequence+"] no orientation set."),n.oceCount="oce"),"oce"!==n.oceCount?A.Config.slotConf?A.Config.slotConf["t"+n.smSequence]?n.prodType=A.Config.slotConf["t"+n.smSequence]:-1!==n.orientation.indexOf("q")?n.prodType=A.Config.slotConf.qdefault:-1!==n.orientation.indexOf("h")?n.prodType=A.Config.slotConf.hdefault:-1!==n.orientation.indexOf("v")?n.prodType=A.Config.slotConf.vdefault:-1!==n.orientation.indexOf("oop")&&(n.prodType=A.Config.slotConf.oopdefault):(A.Debug.logger("ERROR - slot ["+n.sequence+"] no slot product config found, reverting to default 'display'."),n.prodType="dis"):(A.Debug.logger("ERROR - slot ["+n.sequence+"] can't configure product type, setting default 'display'."),n.prodType="dis"),"chip"===A.Config.siteName&&-1!==["NATIVE_CPC_BOX","NATIVE_CPC_BOX2","NATIVE_COMMERCIAL","NATIVE_COMMERCIALAD"].indexOf(n.string)&&(n.prodType="tra"),"[object Array]"===Object.prototype.toString.call(n.prodType)&&(n.prodExcl=n.prodType[1],n.prodType=n.prodType[0]),n.prodType&&(n.prodCount="",-1!==n.prodType.indexOf("dis")&&(A.Tag.params.disCount=A.Tag.params.disCount||0,A.Tag.params.disCount+=1,n.prodCount+="dis"+A.Tag.params.disCount+","),-1!==n.prodType.indexOf("nat")&&(A.Tag.params.natCount=A.Tag.params.natCount||0,A.Tag.params.natCount+=1,n.prodCount+="nat"+A.Tag.params.natCount+","),-1!==n.prodType.indexOf("tra")&&(A.Tag.params.traCount=A.Tag.params.traCount||0,A.Tag.params.traCount+=1,n.prodCount+="tra"+A.Tag.params.traCount+","),-1!==n.prodType.indexOf("rec")&&(A.Tag.params.recCount=A.Tag.params.recCount||0,A.Tag.params.recCount+=1,n.prodCount+="rec"+A.Tag.params.recCount+","),-1!==n.prodType.indexOf("pub")&&(A.Tag.params.pubCount=A.Tag.params.pubCount||0,A.Tag.params.pubCount+=1,n.prodCount+="pub"+A.Tag.params.pubCount+",")),-1!=n.string.indexOf("DESKTOP_BANNER")||-1!=n.string.indexOf("DESKTOP_FOOTER")||-1!=n.string.indexOf("DESKTOP_NATIVE_HOR")||-1!=n.string.indexOf("DESKTOP_HOR")?(A.Tag.params.dban=A.Tag.params.dban||0,A.Tag.params.dban+=1,n.pos="dban"+A.Tag.params.dban):-1!=n.string.indexOf("DESKTOP_RECTANGLE")?(A.Tag.params.dmr=A.Tag.params.dmr||0,A.Tag.params.dmr+=1,n.pos="dmr"+A.Tag.params.dmr):-1!=n.string.indexOf("DESKTOP_SKYSCRAPER")?(A.Tag.params.dsky=A.Tag.params.dsky||0,A.Tag.params.dsky+=1,n.pos="dsky"+A.Tag.params.dsky):-1!=n.string.indexOf("TABLET_BANNER")||-1!=n.string.indexOf("TABLET_NATIVE_HOR")||-1!=n.string.indexOf("TABLET_HOR")?(A.Tag.params.tban=A.Tag.params.tban||0,A.Tag.params.tban+=1,n.pos="tban"+A.Tag.params.tban):-1!=n.string.indexOf("TABLET_RECTANGLE")?(A.Tag.params.tmr=A.Tag.params.tmr||0,A.Tag.params.tmr+=1,n.pos="tmr"+A.Tag.params.tmr):-1==n.string.indexOf("SMARTPHONE_BANNER")&&-1==n.string.indexOf("SMARTPHONE_NATIVE_HOR")&&-1==n.string.indexOf("SMARTPHONE_HOR")||(A.Tag.params.sban=A.Tag.params.sban||0,A.Tag.params.sban+=1,n.pos="sban"+A.Tag.params.sban)),-1===n.size.indexOf("350x600")||w.sidebar_target||(w.sidebar_target=t),n.mode){case"MGPT":if(n.serverMode="GPT",n.params&&"string"==typeof n.params){var g=n.params.split(";");for(s=0;s<g.length;s++)"sl=off"===g[s]&&(n.forceInstantLoading=!0)}return n.forceInstantLoading?(A.Debug.logger("OK - slot ["+n.sequence+"] slot is set to load instantly, loading ad."),A.Tag.writeMGPT(n)):A.Worker.isSlotVisible(n)?(A.Debug.logger("OK - slot ["+n.sequence+"] element is visible, loading ad."),A.Tag.writeMGPT(n)):A.Config.browserFails?(A.Debug.logger("ERROR - slot ["+n.sequence+"] browser does not support smart loading, fetching ad immediately."),A.Tag.writeMGPT(n)):(A.Debug.logger("OK - slot ["+n.sequence+"] element is not visible, preparing for smart loading."),n.status="Queued",n.smartLoading=!0,n.smartLoadHandler=function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},n.smartLoadHandlerThrottled=A.Worker.throttle(function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},50),n.smartLoadHandlerDebounced=A.Worker.debounce(function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},100),A.Worker.addEventHandler(w,"DOMContentLoaded",n.smartLoadHandler),A.Worker.addEventHandler(w,"load",n.smartLoadHandler),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",n.smartLoadHandlerThrottled),A.Worker.addEventHandler(w,"resize",n.smartLoadHandlerDebounced),null);case"VGPT":return n.serverMode="VGPT",A.Tag.writeVGPT(n);case"DART":return n.serverMode="DART",A.Debug.logger("ERROR - [DART] request mode is deprecated. Update ad config."),null;default:return A.Debug.logger("ERROR - invalid request server mode ["+n.mode+"] configured."),null}},A.Tag.writeMGPT=function(n){n.smartLoadHandler&&(A.Worker.removeEventHandler(w,"DOMContentLoaded",n.smartLoadHandler),A.Worker.removeEventHandler(w,"load",n.smartLoadHandler),A.Worker.removeEventHandler(A.Config.scrollElement,"scroll",n.smartLoadHandlerThrottled),A.Worker.removeEventHandler(w,"resize",n.smartLoadHandlerDebounced),n.smartLoadHandler=null,n.smartLoadHandlerThrottled=null,n.smartLoadHandlerDebounced=null);var e=A.Config.sRASlotCombo,t=A.Config.bidActive,a=A.Config.bidOnDemand;if((t&&!a||a&&1!==n.disSeq)&&!n.queued&&!n.smartLoading&&!A.globalQueue.flushed)return n.queued=!0,A.globalQueue.enqueue(A.Tag.writeMGPT,n),A.Debug.logger("OK - slot ["+n.sequence+"] (display count: "+n.disSeq+") added to global queue."),null;if(A.Debug.logger("OK - slot ["+n.sequence+"] (display count: "+n.disSeq+") not added to global queue."),A.Config.useSRASlotCombo&&e){for(var r=0;r<e.length;r++)if(n.string===e[r]){n.sRAGroupMember=!0,n.allowReload=!1;break}n.sRAGroupMember?(n.loopedOnceSRA||(n.loopedOnceSRA=!0,A.Debug.logger("OK - slot ["+n.sequence+"] looped once, adding to SRA queue."),A.Tag.params.sRAGroup.push(n)),e.length===A.Tag.params.sRAGroup.length?n.sRAStatus="fetch":n.sRAStatus="wait"):A.Tag.params.sRAGroup.length?(A.Debug.logger("ERROR - slot ["+n.sequence+"] expecting different SRA call, getting all queued slots and aborting."),n.sRAStatus="abort"):(A.Debug.logger("ERROR - slot ["+n.sequence+"] not a SRA combo member, no slots are queued, abort SRA phase."),A.Config.useSRASlotCombo=!1)}if((t||a)&&!n.bidLooped)return n.bidLooped=!0,A.Debug.logger("OK - slot ["+n.sequence+"] calling on demand bidders."),n.queue=new A.Queue,n.queue.enqueue(A.ThirdParty().getBids,n),n.queue.enqueue(A.ThirdParty().addBidderTargeting,n),n.bidCallback=function(e){A.Debug.logger("OK - slot ["+e.sequence+"] on demand bidders returned, writing ad."),A.Tag.writeMGPT(e),A.globalQueue.callNext("global",!0)},n.queue.enqueue(n.bidCallback,n),n.queue.callNext(n.sequence),null;if("abort"!==n.sRAStatus){var o=[],i=new A.TagVars;A.Debug.logger("OK - slot ["+n.sequence+"] init tag object."),n.latency=A.Worker.getLatency()+"ms",i.init(),i.add("pos",n.pos),i.add("!c","c_mgpt"),i.set("tagid",""),i.set("tile",n.sequence.toString()),i.set("rl_seq",1);var s=A.Tag.params.mobile.deviceType.slice(0,1),d="t"+n.smSequence,l="r"+n.reloadCount;i.set("sm",s),i.add("sm",d),i.add("sm",l),i.add("sm",n.prodType),i.add("sm",n.prodCount),i.add("sm",n.orientation),i.add("sm",s+"_"+n.orientation),n.hCount&&i.add("sm",n.hCount),n.vCount&&i.add("sm",n.vCount),n.qCount&&i.add("sm",n.qCount),n.oopCount&&i.add("sm",n.oopCount),n.oceCount&&i.add("sm",n.oceCount),n.prodExcl&&i.add("!c",n.prodExcl);var g=A.Worker.readCookie("bfaBridge");if(g)try{var c=JSON.parse(g);if(c||c[n.bridge_slotid]){var u,f;A.Debug.logger("Found valid bridge targeting values. Adding them to correct targeting value");var p=c[n.bridge_slotid]["50_999"];p<=60?u="0-60":p<=70?u="61-70":p<=80?u="71-80":p<=90?u="81-90":90<p&&(u="91-100");var m=c[n.bridge_slotid]["100_999"];m<=60?f="0-60":m<=70?f="61-70":m<=80?f="71-80":m<=90?f="81-90":90<m&&(f="91-100"),A.Debug.logger("Bridge Targeting added to tag: bridge_50/1 - "+u+" and bridge_100/1 - "+f),i.set("bridge_50/1",u),i.set("bridge_100/1",f)}}catch(e){A.Debug.logger("Error reading bridge cookie and appending it to targeting tag")}var v=A.Config.rtbConfig.injectors.filter(function(e){return"gpt"===e.name});if(!1===(v=v[0]).consent?i.add("cimp",0):i.add("cimp",1),i.add("consent",v.IABString),A.Worker.getQueryParameter("tfm_aq_test")&&i.add("aqc",n.target),n.params&&"string"==typeof n.params){n.params=n.params.split(";");for(r=0;r<n.params.length;r++)n.params[r]=n.params[r].split("="),i.add(n.params[r][0],n.params[r][1])}if(-1!==n.size.indexOf(",")){var b=n.size.split(",");for(r=0;r<b.length;r++)if(-1!==b[r].indexOf("x")){var h=b[r].split("x");o.push([parseInt(h[0]),parseInt(h[1])])}else-1!==b[r].indexOf("fluid")&&o.push("fluid")}else if(-1!==n.size.indexOf("x")){h=n.size.split("x");o=[parseInt(h[0]),parseInt(h[1])]}else-1!==n.size.indexOf("fluid")&&(o=["fluid"])}if("abort"!==n.sRAStatus&&(n.initTime=(new Date).getTime(),googletag.cmd.push(function(){A.Debug.logger("OK - slot ["+n.sequence+"] defining slot.");var e,t={allowPushExpansion:!0,allowOverlayExpansion:!0},a=A.Config.rtbConfig.injectors.filter(function(e){return"gpt"===e.name});for(var r in(a=a[0]).consent?googletag.pubads().setRequestNonPersonalizedAds(0):A.Worker.checkForPersonalizedAds()?googletag.pubads().setRequestNonPersonalizedAds(0):googletag.pubads().setRequestNonPersonalizedAds(1),A.Config.setForceSafeFrame?n.googleTagObject=googletag.defineSlot("/3673/"+i.get("iu").toString(),o,n.target).setSafeFrameConfig(t).setForceSafeFrame(!0):n.googleTagObject=googletag.defineSlot("/3673/"+i.get("iu").toString(),o,n.target).setSafeFrameConfig(t),i.localVars)i.localVars.hasOwnProperty(r)&&i.get(r).toString()&&("sz"!==r&&"!c"!==r&&"iu"!==r&&n.googleTagObject.setTargeting(r,i.get(r)),"!c"===r&&n.googleTagObject.setCategoryExclusion(i.get("!c").toString()));n.googleTagObject.addService(googletag.pubads()),void 0!==w.location.href?(e=-1!==w.location.href.indexOf("?")?w.location.href.slice(0,w.location.href.indexOf("?")):w.location.href,googletag.pubads().set("page_url",e)):void 0!==w.top.location.href&&(e=-1!==w.top.location.href.indexOf("?")?w.top.location.href.slice(0,w.top.location.href.indexOf("?")):w.top.location.href,googletag.pubads().set("page_url",e)),googletag.pubads().addEventListener("slotRenderEnded",function(e){if(e.slot===n.googleTagObject){var t={slot:n.sequence,container:n.target,isEmpty:e.isEmpty,lineItemId:e.lineItemId,size:e.size[0]+"x"+e.size[1],advertiserId:e.advertiserId,orderId:e.campaignId,creativeId:e.creativeId,type:17586694===e.advertiserId||25823494===e.advertiserId?"adexchange":"unknown"},a=new CustomEvent("adReceived",{detail:t});w.dispatchEvent(a)}})})),"wait"===n.sRAStatus)return A.Debug.logger("OK - slot ["+n.sequence+"] SRA slot defined, waiting for next call."),null;if("fetch"===n.sRAStatus||"abort"===n.sRAStatus){A.Debug.logger("OK - slot ["+n.sequence+"] SRA combo queue full, fetching all ads.");var y=!1;for(r=1;r<A.Tag.params.sRAGroup.length;r++){-1!==A.Tag.params.sRAGroup[r].size.indexOf("350x600")&&(y=!0)}if(y||A.Tag.addTagVar("!c","c_si"),googletag.cmd.push(function(){googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.enableServices();for(var e=[],t=0;t<A.Tag.params.sRAGroup.length;t++){var a=A.Tag.params.sRAGroup[t];a.status="Ok",a.loadTime=(new Date).getTime(),a.reloadCount?a.reloadCount++:a.reloadCount=0,a.latency=A.Worker.getLatency()+"ms",A.Debug.logger("OK - slot ["+a.sequence+"] calling GPT framework to fetch ad."),e.push(a.googleTagObject),googletag.display(a.target)}googletag.pubads().refresh(e,{changeCorrelator:!1}),A.Debug.logger("OK - all SRA Slots have been fetched.")}),A.Config.useSRASlotCombo=!1,"abort"===n.sRAStatus)return A.Debug.logger("WARNING - slot ["+n.sequence+"] this slot broke the SRA chain. Loading the slot normally."),n.sRAStatus=null,A.Worker.isSlotVisible(n)?(A.Debug.logger("OK - slot ["+n.sequence+"] element is visible, loading ad."),A.Tag.writeMGPT(n)):A.Config.browserFails?(A.Debug.logger("ERROR - slot ["+n.sequence+"] browser does not support smart loading, fetching ad immediately."),A.Tag.writeMGPT(n)):(A.Debug.logger("OK - slot ["+n.sequence+"] element is not visible, preparing for smart loading."),n.status="Queued",n.smartLoadHandler=function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},n.smartLoadHandlerThrottled=A.Worker.throttle(function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},50),n.smartLoadHandlerDebounced=A.Worker.debounce(function(){A.Events.onSlotVisible(n,A.Tag.writeMGPT)},100),A.Worker.addEventHandler(w,"DOMContentLoaded",n.smartLoadHandler),A.Worker.addEventHandler(w,"load",n.smartLoadHandler),A.Worker.addEventHandler(A.Config.scrollElement,"scroll",n.smartLoadHandlerThrottled),A.Worker.addEventHandler(w,"resize",n.smartLoadHandlerDebounced),null)}else googletag.cmd.push(function(){A.Debug.logger("OK - slot ["+n.sequence+"] calling GPT framework to fetch ad."),googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.enableServices(),n.status="Ok",n.loadTime=(new Date).getTime(),n.visible=!0,n.latency=A.Worker.getLatency()+"ms",n.reloadCount?n.reloadCount++:n.reloadCount=0,googletag.display(n.target),googletag.pubads().refresh([n.googleTagObject],{changeCorrelator:!1}),n.visHandler=function(){A.Events.onSlotHidden(n,A.Tag.stopVis)},n.thrVisHandler=A.Worker.throttle(function(){A.Events.onSlotHidden(n,A.Tag.stopVis)},50),n.debVisHandler=A.Worker.debounce(function(){A.Events.onSlotHidden(n,A.Tag.stopVis)},100);var e=A.Worker.getHiddenProperty();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";A.Worker.addEventHandler(w,t,n.visHandler)}A.Worker.addEventHandler(A.Config.scrollElement,"scroll",n.thrVisHandler),A.Worker.addEventHandler(w,"resize",n.debVisHandler),A.Config.autoReloadAllSlots&&n.allowReload&&(A.Debug.logger("OK - slot ["+n.sequence+"] queueing for automatic reload."),A.Tag.manageSlotReload(n))})},A.Tag.writeVGPT=function(e){if("chip_digital"!==w.adsc_adunit1&&"netmoms"!==w.adsc_adunit1||!/11.0 safari/.test(navigator.userAgent.toLowerCase())||A.Worker.getQueryParameter("safariTest")){var t,a,r="",n="";A.ThirdParty().addBidderTargeting(e);var o=new A.TagVars;if(A.Debug.logger("OK - slot ["+e.sequence+"] building ad request with mode [VGPT], type ["+e.string+"], size ["+e.size+"] and parameters ["+e.params+"]."),o.init(),o.set("tile",e.sequence.toString()),o.set("sz",e.size),o.set("tagid",""),o.set("skv",""),o.set("ord",""),o.set("correlator",Math.floor(1e17*Math.random())),o.set("env","vp"),o.set("gdfp_req","1"),o.set("impl","s"),o.set("hl","de"),o.set("iu","/3673/"+o.get("iu").toString()),"VIDEO_PREROLL_HOMAD"===e.string&&o.set("iu","/3673/"+adsc_adunit1+"/homad"),o.set("output","xml_vast2"),A.Config.vastVersion&&(2===A.Config.vastVersion?(o.set("output","xml_vast2"),o.set("vstv",2)):3===A.Config.vastVersion&&(o.set("output","xml_vast3"),o.set("vstv",3))),w.adsc_ugc&&o.add("!c","c_ugc"),A.Config.vpaidVersion&&o.set("vpdv",A.Config.vpaidVersion),o.set("unviewed_position_start","1"),A.Config.videoContentSourceID&&o.set("cmsid",A.Config.videoContentSourceID),w.publisherCMSVideoID?o.set("vid",w.publisherCMSVideoID):w.top.publisherCMSVideoID&&o.set("vid",w.top.publisherCMSVideoID),!0===A.Config.videoAdRulesEnabled&&o.set("ad_rule",1),-1!=e.string.indexOf("OSAD_VIDEO")&&A.Config.outStreamAd&&A.Config.outStreamAd.noFallback&&o.set("nofb",1),void 0!==w.location.href?(t=w.location.href.slice(0,w.location.href.indexOf("?")),o.set("description_url",encodeURIComponent(t))):void 0!==w.top.location.href&&(t=w.top.location.href.slice(0,w.top.location.href.indexOf("?")),o.set("description_url",encodeURIComponent(t))),void 0!==w.location.origin?o.set("url",encodeURIComponent(w.location.origin)):void 0!==w.top.location.href&&o.set("url",encodeURIComponent(w.top.location.origin)),e.params&&"string"==typeof e.params){e.params=e.params.split(";");for(var i=0;i<e.params.length;i++)e.params[i]=e.params[i].split("="),o.add(e.params[i][0],e.params[i][1])}for(var s in A.adSlot)A.adSlot.hasOwnProperty(s)&&"VGPT"===A.adSlot[s].mode&&A.adSlot[s].sequence!==e.sequence&&(o.set("som_yp",""),o.set("ypvp",""),o.set("hb_f",""),o.set("hb_p",""),o.set("hb_a",""),o.set("hb_c",""),o.set("hb_v",""),o.set("hb_id",""));var d=A.Config.rtbConfig.injectors.filter(function(e){return"gpt"===e.name});for(var i in!1===(d=d[0]).consent?(o.set("npa",1),o.set("cimp",0)):o.set("cimp",1),o.set("consent",d.IABString),o.localVars)o.localVars.hasOwnProperty(i)&&o.get(i).toString()&&("iu"!==i&&"sz"!==i&&"correlator"!==i&&"env"!==i&&"gdfp_req"!==i&&"impl"!==i&&"output"!==i&&"unviewed_position_start"!==i&&"url"!==i&&"!c"!==i&&"description_url"!==i&&"hl"!==i&&"cmsid"!==i&&"vid"!==i&&"nofb"!==i&&"ad_rule"!==i&&"npa"!==i&&"ciu_szs"!==i?n+=i+"="+o.get(i).toString()+"&":"!c"===i?n+="excl_cat="+o.get(i).toString()+"&":r+=i+"="+o.get(i).toString()+"&");return n=n.slice(0,n.length-1),a=("https:"===R.location.protocol?"https:":"http:")+"//pubads.g.doubleclick.net/gampad/ads?"+r+"cust_params="+encodeURIComponent(n),e.latency=A.Worker.getLatency()+"ms",e.url=a,A.Debug.logger("OK - slot ["+e.sequence+"] returning video ad request URL."),void 0===A.Config.escapeVideoURLs?escape(a):!0===A.Config.escapeVideoURLs?escape(a):!1===A.Config.escapeVideoURLs?a:void 0}A.Debug.logger("Safari 11 detected, disable video ads due to incompatability of the IMASDK.")},A.Tag.addTagVar=function(e,t){return A.TagVars.prototype.add(e,t)},A.Tag.removeTagVar=function(e,t){return A.TagVars.prototype.remove(e,t)},A.Tag.setTagVar=function(e,t){return A.TagVars.prototype.set(e,t)},A.Tag.getTagVar=function(e){return A.TagVars.prototype.get(e)},A.TagVars=function(){this.localVars={},this.init=function(){for(var e in this.globalVars)if(this.globalVars.hasOwnProperty(e)){this.localVars[e]=[];for(var t=0;t<this.globalVars[e].length;t++)this.localVars[e].push(this.globalVars[e][t])}},this.set=function(e,t){if("string"==typeof e&&("number"==typeof t&&(t=t.toString()),"string"==typeof t))if(""!==t){t=-1!==t.indexOf(",")?t.split(","):t.split(),this.localVars[e]=[];for(var a=0;a<t.length;a++)t[a]&&this.localVars[e].push(t[a])}else this.localVars[e]=[]},this.add=function(e,t){if("string"==typeof e&&("number"==typeof t&&(t=t.toString()),"string"==typeof t))if(t=-1!==t.indexOf(",")?t.split(","):t.split(),this.localVars[e])for(n=0;n<t.length;n++){for(var a=!1,r=0;r<this.localVars[e].length;r++)this.localVars[e][r]===t[n]&&(a=!0);!1===a&&""!==t[n]&&this.localVars[e].push(t[n])}else{this.localVars[e]=[];for(var n=0;n<t.length;n++)""!==t[n]&&this.localVars[e].push(t[n])}},this.remove=function(e,t){if("string"==typeof e&&("number"==typeof t&&(t=t.toString()),"string"==typeof t))if(t=-1!==t.indexOf(",")?t.split(","):t.split(),this.localVars[e])for(var a=0;a<t.length;a++)for(var r=0;r<this.localVars[e].length;r++)this.localVars[e][r]===t[a]&&this.localVars[e].splice(r,1);else;},this.get=function(e){for(var t in this.localVars)if(this.localVars.hasOwnProperty(t)&&t===e)return this.localVars[t]},this.getAll=function(e,t,a){var r="";for(var n in this.localVars)if(this.localVars.hasOwnProperty(n)&&0<n.length){r+=n+e;for(var o=0;o<this.localVars[n].length;o++)r+=this.localVars[n][o]+t;r=r.slice(0,r.length-1),r+=a}return r=r.slice(0,r.length-1)}},A.TagVars.prototype.set=function(e,t){if("string"==typeof e&&(null===t||"number"!=typeof t&&"object"!=typeof t||(t=t.toString()),"string"==typeof t))if(""!==t){t=-1!==t.indexOf(",")?t.split(","):t.split(),this.globalVars[e]=[];for(var a=0;a<t.length;a++)t[a]&&this.globalVars[e].push(t[a])}else this.globalVars[e]=[]},A.TagVars.prototype.add=function(e,t){if("string"==typeof e&&("number"==typeof t&&(t=t.toString()),"string"==typeof t))if(t=-1!==t.indexOf(",")?t.split(","):t.split(),this.globalVars[e])for(n=0;n<t.length;n++){for(var a=!1,r=0;r<this.globalVars[e].length;r++)this.globalVars[e][r]===t[n]&&(a=!0);!1===a&&""!==t[n]&&this.globalVars[e].push(t[n])}else{this.globalVars[e]=[];for(var n=0;n<t.length;n++)""!==t[n]&&this.globalVars[e].push(t[n])}},A.TagVars.prototype.remove=function(e,t){if("string"==typeof e&&("number"==typeof t&&(t=t.toString()),"string"==typeof t))if(t=-1!==t.indexOf(",")?t.split(","):t.split(),this.globalVars[e])for(var a=0;a<t.length;a++)for(var r=0;r<this.globalVars[e].length;r++)this.globalVars[e][r]===t[a]&&this.globalVars[e].splice(r,1);else;},A.TagVars.prototype.get=function(e){for(var t in this.globalVars)if(this.globalVars.hasOwnProperty(t)&&t===e)return this.globalVars[t]},A.TagVars.prototype.globalVars=A.TagVars.prototype.globalVars||{},A.Queue=function(){this.cmd=[],this.enqueue=function(e,t){this.cmd.push([e,t])},this.removeLast=function(){this.cmd.shift(),this.cmd.length||(this.flushed=!0)},this.callNext=function(e,t){if(this.cmd.length){e&&"global"!==e?A.Debug.logger("OK - slot ["+e+"] calling next queued entry, ["+(this.cmd.length-1)+"] entries queued."):A.Debug.logger("OK - call next global queue entry, ["+(this.cmd.length-1)+"] entries queued.");var a=[];return a.push(this.cmd[0]),t&&this.removeLast(),"[object Array]"===Object.prototype.toString.call(a[0][1])?a[0][0](a[0][1][0],a[0][1][1]):a[0][0](a[0][1]),!0}return!(this.flushed=!0)},this.flush=function(){for(A.Debug.logger("OK - flushing global queue.");this.cmd.length;)"[object Array]"===Object.prototype.toString.call(this.cmd[0][1])?this.cmd[0][0](this.cmd[0][1][0],this.cmd[0][1][1]):this.cmd[0][0](this.cmd[0][1]),this.removeLast();this.flushed=!0}},A.Session={params:{userCount:1,otpSession:!1,oopSession:!1,otpException:!1,catException:!1,oopException:!1}},A.Session.setUserSession=function(){var e=A.Config.siteName+"_session",t=A.Worker.readCookie(e),a=A.Config,r=A.Session.params;t?(r.userCount=parseInt(t)+1,A.Worker.createCookie(e,r.userCount,30),A.Debug.logger("OK - user session count set to ["+r.userCount+"] from cookie.")):(A.Debug.logger("WARNING - no user session count cookie found, user session count set to ["+r.userCount+"]."),A.Worker.createCookie(e,r.userCount,30)),a.sessionParams=r},A.Session.getSlotConf=function(){var e=A.Config.slotConfMapping;if(A.Worker.getQueryParameter("slotConfTest")&&(A.Debug.logger("slotConfTest GET param set -> use slotConfMappingNew object"),e=A.Config.slotConfMappingNew),e&&"[object Array]"===Object.prototype.toString.call(e)&&e.length){for(var t=!1,a=0;a<e.length;a++){var r,n=e[a].conditions;if(n){if("[object Array]"===Object.prototype.toString.call(n)){for(var o=!1,i=!1,s=0;s<n.length;s++)if("[object Array]"===Object.prototype.toString.call(n[s]))if("default"===n[s][0])A.Debug.logger("OK - default slot configuration found."),A.Config.slotConf=e[a].conf,t=!0;else if(-1!==n[s][0].indexOf("adsc"))if(-1!==n[s][1].indexOf("!")){if(n[s][s]&&(r=n[s][s].split("!")[1]),"string"==typeof n[s][1])void 0!==w[n[s][0]]&&w[n[s][0]]!==r?o=!0:i=!0;else if("[object Array]"===Object.prototype.toString.call(n[s][1])){for(var d=!1,l=0;l<n[s][1].length;l++)if(w[n[s][0]]&&w[n[s][0]]!==n[s][1][l]){d=!0;break}d?o=!0:i=!0}}else if("string"==typeof n[s][1])void 0!==w[n[s][0]]&&w[n[s][0]]===n[s][1]?o=!0:i=!0;else if("[object Array]"===Object.prototype.toString.call(n[s][1])){for(d=!1,l=0;l<n[s][1].length;l++)if(w[n[s][0]]&&w[n[s][0]]===n[s][1][l]){d=!0;break}d?o=!0:i=!0}if(!0===o&&!1===i){A.Config.slotConf=e[a].conf;var g="default";A.Config.slotConf.name&&(g=A.Config.slotConf.name),A.Debug.logger("OK - conditions met, setting specific config to: "+g+"."),t=!0}}}else A.Debug.logger("WARNING - no conditions set, disregarding item.")}t||(A.Debug.logger("WARNING - no matching configuration found, using fallback."),A.Config.slotConf={vdefault:"dis",hdefault:"dis",oopdefault:"dis",qdefault:"dis"})}else A.Debug.logger("ERROR - no slot configuration mapping found, using fallback."),A.Config.slotConf={vdefault:"dis",hdefault:"dis",oopdefault:"dis",qdefault:"dis"}},A.Session.updateConfig=function(){if(w.adsc_async&&(A.Debug.logger("WARNING - publisher set .asyncMode to true."),A.Config.asyncMode=!0),"full"===w.adsc_mode&&A.Config.asyncMode&&(A.Debug.logger("ERROR - full mode ad engine requested, disabling async loading of scripts."),A.Config.asyncMode=!1),w.adsc_autoreload?(A.Debug.logger("WARNING - publisher set .autoReloadAllSlots to true."),A.Config.autoReloadAllSlots=!0):!1===w.adsc_autoreload&&A.Debug.logger("WARNING - publisher set .autoReloadAllSlots to false."),w.adsc_vastver&&(2===w.adsc_vastver?(A.Config.vastVersion=2,A.Debug.logger("WARNING - publisher set VAST Version to 2.")):3===w.adsc_vastver?(A.Config.vastVersion=3,A.Debug.logger("WARNING - publisher set VAST Version to 3.")):A.Debug.logger("ERROR - publisher set invalid VAST Version.")),w.adsc_vpaidver){var e=w.adsc_vpaidver;"f1"===e||"f2"===e||"j1"===e||"j2"===e?(A.Config.vpaidVersion=w.adsc_vpaidver,A.Debug.logger("WARNING - publisher set VPAID Version.")):A.Debug.logger("ERROR - publisher set invalid VPAID Version.")}w.adsc_adrules?A.Config.videoAdRulesEnabled=!0:!1===w.adsc_adrules&&(A.Config.videoAdRulesEnabled=!1),A.Session.getSlotConf()},A.Mapping={Configuration:{}},A.singlePageChange=function(){A.Config.checkedScrollElement=!1};var e=e||{};e.set=function(){A.Debug.logger("ERROR - adso_tagvars.set is deprecated. Use TFM.Tag.setTagVar(key,value) instead.")},e.add=function(){A.Debug.logger("ERROR - adso_tagvars.add is deprecated. Use TFM.Tag.addTagVar(key,value) instead.")},e.addcsv=function(){A.Debug.logger("ERROR - adso_tagvars.addcsv is deprecated. Use TFM.Tag.addTagVar(key,value) instead.")},e.get=function(){A.Debug.logger("ERROR - adso_tagvars.get is deprecated. Use TFM.Tag.setTagVar(key) instead.")},A.Engine={start:function(){if(w.TFM_adEngineHasRun)A.Debug.logger("ERROR - BFA AdEngine has already been loaded.");else{function e(e,t){return Math.floor(Math.random()*(t-e+1))+e}w.TFM_adEngineHasRun=!0,w.TFM=w.TFM||{},w.TFM.Version=A.Version,w.TFM.Worker=A.Worker,w.TFM.ThirdParty={},w.TFM.ThirdParty.startEngineWithCmpConfig=A.ThirdParty().startEngineWithCmpConfig;var t=["V000",e(1,9),"P000",e(1,9),"D000",e(1,9),"T000",e(1,9)].join("");A.Config.randomPnKey=t;var a=["S000",e(1,9),"R000",e(1,9),"L000",e(1,9),"K000",e(1,9)].join("");A.Config.randomBfrevKey=a;var r="B000"+e(1,9);A.Config.randomHeaderBiddingKey=r,w.TFM.Config=A.Config,w.TFM.Tag={},w.TFM.Tag.getAdTag=function(){w._aeq=w._aeq||[],w._aeq.push(["getAdTag",arguments[0],arguments[1]])},w.TFM.Tag.getTagVar=A.Tag.getTagVar,w.TFM.Tag.addTagVar=A.Tag.addTagVar,w.TFM.Tag.setTagVar=A.Tag.setTagVar,void 0!==w.adsc_waitForTPConfig&&"boolean"==typeof w.adsc_waitForTPConfig&&w.adsc_waitForTPConfig?(w.TFM.ThirdParty.getVendors=A.ThirdParty().getVendors,w.TFM.ThirdParty.disableVendor=A.ThirdParty().disableVendor,w.TFM.ThirdParty.completeThirdPartyConfiguration=A.ThirdParty().completeThirdPartyConfiguration,A.Debug.logger("BFA AdEngine start aborted. Waiting for ThirdParty Configuration..."),w.TFM_adEngineHasRun=!1):w.TFM.ThirdParty.startEngineWithCmpConfig().then(function(){A.Config.loadTime=(new Date).getTime(),A.Events.trackOILEvents(),A.Worker.getQueryParameter("tfm_console")&&(A.Config.consoleLog=!0),A.Worker.getQueryParameter("tfm_console_all")&&(A.Config.consoleLogAll=!0),A.Debug.logger("OK - BFA AdEngine loading."),A.Session.setUserSession(),A.Session.updateConfig(),A.globalQueue=new A.Queue,A.Config.scrollElement=w,A.Events.init(),w.adsc_adblocker||A.ThirdParty().init(),A.Tag.init(),A.Tag.setTagParameters(),w.TFM.Version=A.Version,w.TFM.Tag={},w.TFM.Tag.getAdTag=A.Tag.getAdTag,w.TFM.Tag.reloadSlot=A.Tag.reloadSlot,w.TFM.Tag.destroy=A.Tag.destroy,w.TFM.Events={},w.TFM.Events.dmpEvent=A.Events.dmpEvent,w.TFM.ThirdParty.renderAd=A.ThirdParty().renderAd,w.TFM.Tag.getTagVar=A.Tag.getTagVar,w.TFM.Tag.addTagVar=A.Tag.addTagVar,w.TFM.Tag.setTagVar=A.Tag.setTagVar,w.TFM.TagVars=A.TagVars,w.TFM.adSlot=A.adSlot,w.TFM.bidStore=A.bidStore,w.TFM.bidStoreArchive=A.bidStoreArchive,w.TFM.ThirdParty.removeBid=A.ThirdParty().removeBid,w.TFM.ThirdParty.getVendors=A.ThirdParty().getVendors,w.TFM.ThirdParty.disableVendor=A.ThirdParty().disableVendor,w.TFM.Debug=A.Debug,w.ads_gettag=n,w.tfsads=u,w.adsg_site=o,w.adsg_inf=i,w.TFM.SiteConfiguration=A.SiteConfiguration,w.TFM.SiteConfiguration.settings=A.SiteConfiguration.settings,w.TFM.singlePageChange=A.singlePageChange,w.TFM.apiReady=!0;var e=new CustomEvent("adEngineAPIReady",{detail:{ready:!0}});w.dispatchEvent(e);w._oldQueue=w._aeq,w._aeq=new function(){this.push=function(){for(var e=0;e<arguments.length;e++)try{if("function"==typeof arguments[e])arguments[e]();else{var t=arguments[e][0];A.Tag[t].apply(t,arguments[e].slice(1))}}catch(e){}},this.getVideoAdTag=function(e){return this.adTagUrl="",this.adTagUrl=A.Tag.getAdTag(e),this.adTagUrl}},w._aeq.push.apply(w._aeq,w._oldQueue),"function"==typeof w.adsc_callback&&w.adsc_callback(),A.Debug.logger("OK - BFA AdEngine load complete.")},function(){A.Debug.logger("ERROR - promise to start AE with CMP config rejected.")})}}},A.Config={siteName:"wx",bfConsentToolActive:!1,useSRASlotCombo:!1,sRASlotCombo:[],adUnitControlledByWebsite:!0,useNewMappingStructure:!0,pageId:function(){for(var e=R.location.protocol+"//"+R.location.hostname+R.location.pathname,t="23456789bcdfghjkmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ-_",a=t.length,r=0,n=0;n<e.length;n++)r=r*a+t.indexOf(e.charAt(n));return e=r.toString().replace(/[^0-9]/g,""),isNaN(e)?0:e},contentWidth:1118,centeredWithSky:!0,videoContentSourceID:0,escapeVideoURLs:!0,videoAdRulesEnabled:!0,vastVersion:3,vpaidVersion:"f1",usesSP:!1,asyncMode:!0,autoReloadAllSlots:!0,reloadThreshold:30,maxReloads:10,defaultMinVisiblePercentage:60,reloadThresholdList:[["adsc_adunit2","ressort",20],["adsc_layout","video",15]],idleThreshold:300,idleThresholdList:[["adsc_adunit2","ressort",420],["adsc_layout","video",600]],customVariables:{adsc_keyword:["none","kw"],adsc_metakey:["","kw"],adsc_adunit3:["","adunit3"]},maxKeyvalues:10,keyvalueMaxLength:30,adUnitsCanBeRefreshed:!1,slotConfMapping:[{conditions:[["default"]],conf:{vdefault:"dis,nat",hdefault:"dis",oopdefault:"dis",qdefault:"dis,nat",t1:"dis",t2:"dis,nat",t3:"dis,nat",t4:"dis,nat",t5:"dis,nat",t6:"dis,nat"}}],rtbConfig:{bidderConf:{reuseLimit:1e3,callLimit:1e3,timeoutDefault:500},bidderList:[{name:"amazon_tam",active:!0,activeThirdParty:!0,onDemand:!0,mode:"API",useNewBidSystem:!1,slotIds:{sb:0,mr:0,sky:0,bb:0,hpa:0,mc61:0,mmr:0,wbb:0}},{name:"amazon_tam_video",active:"video"===w.adsc_adunit2||0<R.getElementsByClassName("video_player").length,activeThirdParty:!0,onDemand:!1,mode:"API",useNewBidSystem:!1,slotIds:{vp:0}},{name:"yieldlab",active:!0,activeThirdParty:!0,onDemand:!0,mode:"GET",timeout:500,useNewBidSystem:!0,slotIds:{sky:218596,mr:218598,sb:218605,hpa:218603,bb:218606,st:487832,wp:487852,mc61:231769,mc41:231770,mc21:231767,mmr:231768,wbb:2355072,sbb:2456131,smc21:2456142,fsb200:218604,ynat:5197797,us:6810287},altIds:[["adsc_adunit2","home",{bb:487233}]]},{name:"yieldlabvideo",active:"video"===w.adsc_adunit2||0<R.getElementsByClassName("video_player").length,activeThirdParty:!0,onDemand:!1,mode:"GET",timeout:500,useNewBidSystem:!0,slotIds:{vp:346919}},{name:"criteo_2",active:!0,activeThirdParty:!0,onDemand:!1,mode:"POST",timeout:500,useNewBidSystem:!0,slotIds:{sky:764343,mr:764344,hpa:764345,sb:764346,mc61:764347,bb:764348,mc31:764349,mmr:898729,mhpa:1171596,us:1338998,wbb:901901,mc21:1176214},ptv:21,profileId:208},{name:"criteo",active:!1,activeThirdParty:!0,onDemand:!1,mode:"GET",timeout:500,slotIds:{mc61:0,sky:0,mr:0,hpa:0,bb:0,sb:0,mmr:0,fsb100:0,fsb200:0,mc41:0},pubId:5382},{name:"som",active:"video"===w.adsc_adunit2||0<R.getElementsByClassName("video_player").length,activeThirdParty:!0,onDemand:!1,mode:"GET",timeout:500,encodeSteps:4,slotIds:{vp:678269}},{name:"groupm",active:!0,activeThirdParty:!0,onDemand:!0,mode:"GET",timeout:500,slotIds:{sb:910150,mr:910152,sky:910151,hpa:910153,bb:910150}},{name:"groupmvideo",active:"video"===w.adsc_adunit2||0<R.getElementsByClassName("video_player").length,activeThirdParty:!0,onDemand:!1,mode:"GET",timeout:500,slotIds:{vp:910274}},{name:"seeding",active:!1,activeThirdParty:!1,onDemand:!1,mode:"GET",slotIds:{hor:0,ver:0}},{name:"apn",active:!1,activeThirdParty:!0,onDemand:!0,placementId:13640825,placementIdSmartphone:13640829,useNewBidSystem:!0,mode:"POST",slotIds:{sky:1,mr:1,sb:1,hpa:1,bb:1,wbb:1,mmr:1,mc61:1,mc41:1,mc21:1,us:1}},{name:"apnnative",active:!0,activeThirdParty:!0,onDemand:!0,placementId:13867153,placementIdSmartphone:13867155,callback:"apn",useNewBidSystem:!0,mode:"POST",slotIds:{apnat:1}},{name:"facebook",active:!0,activeThirdParty:!0,onDemand:!1,mode:"GET",useNewBidSystem:!0,testMode:!1,slotIds:{mmr:"1934796273427415_1955450731361969"}}],specialBidders:{nuggad:{name:"nuggad",active:!1,activeThirdParty:!1,mode:"GET",siteId:0},smartclip:{name:"smartclip",active:!1,activeThirdParty:!1,mode:"POST",timeout:500,domain:"www.weather.com",nuggParams:{}}},injectors:[{name:"amazon",active:!1,activeThirdParty:!0},{name:"amazon_tam",active:!0,activeThirdParty:!0},{name:"gpt",active:!0,activeThirdParty:!0,gptDefaultMode:"infinite",gptRefreshLabels:"c_frm,c_pan,c_exp,c_si,c_wp"},{name:"datalayer",active:!1,activeThirdParty:!1},{name:"dataengine",active:!0,activeThirdParty:!0,context:{}},{name:"infolayer",active:!0,activeThirdParty:!1,obaActive:!0,siteName:"weather"},{name:"moatanalytics",active:!0,activeThirdParty:!0},{name:"nudge",active:!1,activeThirdParty:!1},{name:"emetriq",active:!1,activeThirdParty:!1},{name:"criteo",active:!0,activeThirdParty:!1}]}},A.Config.adTypeConfig=A.Config.adTypeConfig||[["DESKTOP_BANNER_TOP","","728x90","800x250,970x250","noreload","!c=c_wp,c_si","MGPT","h,sticky","sb,bb,wbb,sbb"],["DESKTOP_BANNER_ANY","","728x90","800x250,970x250","","!c=c_wp,c_si","MGPT","h","sb,bb,wbb"],["DESKTOP_RECTANGLE_TOP","","fluid","300x250,300x600,99x99,1x6","noreload","!c=c_mhpa","MGPT","v,q","mr,hpa,ver,ynat,apnat"],["DESKTOP_RECTANGLE_ANY","","fluid","300x250,300x600,160x600,99x99,1x6","","!c=c_mhpa","MGPT","v,q","mr,hpa,sky,ver,ynat,apnat"],["DESKTOP_RECTANGLE_SINGLE_ANY","","fluid","300x250,99x99,1x6","","","MGPT","v,q","mr,ver,ynat,apnat"],["DE_DESKTOP_RECTANGLE1","","fluid","300x250,99x99,1x6","","","MGPT","v,q","mr,ver,ynat,apnat"],["DE_DESKTOP_RECTANGLE1","","fluid","300x250,99x99,1x6","","","MGPT","v,q","mr,ver,ynat,apnat"],["DESKTOP_RECTANGLE1","","fluid","300x250,99x99,1x6","","","MGPT","v,q","mr,ver,ynat,apnat"],["DESKTOP_FOOTER_ANY","","728x90","","","!c=c_wp","MGPT","h","sb"],["DESKTOP_MAXIAD_ANY","","640x480","460x200,468x60","","","MGPT","h","fsb200"],["DESKTOP_FULLSIZEBANNER_ANY","","468x60","","","","MGPT","h","fsb"],["DESKTOP_SKYSCRAPER_TOP","","160x600","350x600","noreload","","MGPT","oop","sky"],["DESKTOP_SKYSCRAPER_ANY","","160x600","","","!c=c_si","MGPT","oop","sky"],["DESKTOP_TEASER_HOR_ANY","","fluid","6x1","","","MGPT","h","hor,ynat,apnat"],["DESKTOP_TEASER_VER_ANY","","fluid","99x99,1x6","","","MGPT","v,q","ver,ynat,apnat"],["TABLET_BANNER_ANY","","728x90","728x250","noreload","!c=c_wp,c_si","MGPT","h","sb,bb"],["TABLET_RECTANGLE_ANY","","fluid","300x250,300x600,160x600,99x99,1x6","","!c=c_mhpa","MGPT","v,q","mr,hpa,ver,ynat,apnat"],["TABLET_RECTANGLE_SINGLE_ANY","","fluid","300x250,99x99,1x6","","","MGPT","v,q","mr,ver,ynat,apnat"],["TABLET_TEASER_HOR_ANY","","fluid","99x99,6x1","","","MGPT","h","hor"],["TABLET_TEASER_VER_ANY","","fluid","99x99,1x6","","","MGPT","v,q","ver"],["SMARTPHONE_BANNER_TOP","","320x50","320x75,320x150","noreload","","MGPT","h,sticky","mc61,mc41,mc21,smc21"],["SMARTPHONE_BANNER_ANY","","fluid","320x50,320x75,320x150,300x250,320x480,99x99,6x1","","","MGPT","h,q","mc61,mc41,mc21,mmr,hor,ynat,apnat,us"],["SMARTPHONE_TEASER_HOR_ANY","","fluid","99x99,6x1","","","MGPT","h","hor"],["VIDEO_PREROLL","","400x300","","","tfvpos=pre","VGPT","","vp"]];var o=A.Config.siteName,i={config:{site:A.Config.siteName,contentwidth:A.Config.contentWidth}};A.SiteConfiguration=A.SiteConfiguration||{},A.SiteConfiguration.settings=A.SiteConfiguration.settings||{contentWidth:A.Config.contentWidth};var u={specialConfig:{init:function(){w.addEventListener("message",function(e){if("string"==typeof e.data&&-1!==e.data.indexOf("resizeThisIframe")){var t=JSON.parse(e.data),a=t.resizeThisIframe.height,r=t.resizeThisIframe.slot;try{var n=R.getElementById(A.adSlot["tag"+r].target).getElementsByTagName("iframe")[0];n.offsetHeight<=parseInt(a)&&(n.style.height=a)}catch(e){}}})}},specialTagvars:{init:function(){(A.Tag.addTagVar("test_kw","test_value"),this.screenSize||"undefined"==typeof adsc_device||"smartphone"==adsc_device)||(this.screenSize=!0,30<2e7/(w.innerWidth*w.innerHeight)&&30<8e4/w.innerWidth&&A.Tag.addTagVar("!c","c_sticky"))}},universal:{getContentHeight:function(){return body=R.getElementsByTagName("body")[0],bodyHeight=body.scrollHeight||R.body.scrollHeight},setBackgroundColor:function(e){var t=R.getElementsByTagName("body")[0],a=e;"#"!=a.substring(0,1)&&(a="#"+a),!1===/^(#)?([0-9a-fA-F]{3})([0-9a-fA-F]{3})?$/.test(a)?A.Debug.logger("HexCode for Background Color is invalid: "+a):(t.style.backgroundImage="url()",t.style.backgroundColor=a)},setBackgroundImage:function(e,t,a,r){var n=R.getElementsByTagName("body")[0];n.style.backgroundImage="url("+e+")",n.style.backgroundRepeat="repeat",n.style.backgroundPosition=a+"px "+r+"px"},stickyLooper:function(){return void 0!==w.pageYOffset?scrollPos=w.pageYOffset:void 0!==R.compatMode&&"BackCompat"!=R.compatMode?scrollPos=R.documentElement.scrollTop:void 0!==R.body&&(scrollPos=R.body.scrollTop),scrollPos},stickySkyscraper:function(){var t=u.universal.getContentHeight(),a=R.getElementById(u.skyscraper.anchorId);a.parentNode.style.position="absolute";var e=1,r="frontpage"!==adsc_ressort?230:630,n=r+600-0;w.tfsads&&u.skyscraper&&0==u.skyscraper.sticky&&(e=0),1===e&&w.adsg_site&&(w.addEventListener?w.addEventListener("scroll",function(e){t=u.universal.getContentHeight(),maxScroll=t-(n+0),skyTopPosition=u.universal.stickyLooper(),skyTopPosition>=maxScroll?(a.style.position="absolute",a.style.top=maxScroll+"px"):(skyTopPosition<=0?a.style.position="absolute":a.style.position="fixed",a.style.top=0)}):w.attachEvent("onscroll",function(e){t=u.universal.getContentHeight(),maxScroll=t-(n+0),skyTopPosition=u.universal.stickyLooper(),skyTopPosition>=maxScroll?(a.style.position="absolute",a.style.top=maxScroll+"px"):(skyTopPosition<=0?a.style.position="absolute":a.style.position="fixed",a.style.top=0)}))},hexToRgbA:function(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),"rgba("+[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")+",0.88)"}},banderole:{init:function(){}},billboard:{placementMode:"banner",init:function(){}},blocker:{init:function(){}},bracketad:{init:function(){}},centerfold:{init:function(){}},crossbanderole:{init:function(){}},crossfloor:{init:function(){}},countdownad:{init:function(){}},filler:{init:function(){}},flashlayer:{init:function(){}},floorad:{init:function(){}},footerad:{init:function(){}},footeradyield:{init:function(){}},framead:{positionX:1008,positionY:0,init:function(){if(R.getElementById("page-container")){R.getElementById("page-container").style.width="1006px"}}},frameadplus:{positionX:1008,positionY:0,init:function(){if(R.getElementById("page-container")){R.getElementById("page-container").style.width="1006px"}setTimeout(function t(){try{R.getElementById("content").firstChild.nextSibling.style.marginBottom="258px",R.getElementById("sidebar").firstChild.nextSibling.style.marginBottom="258px"}catch(e){setTimeout(t,500)}},500)}},fullscreenlayer:{positionX:0,positionY:0,init:function(){}},fullscreenspot:{positionX:0,positionY:0,init:function(){}},galerie:{maxwidth:300,maxheight:250,init:function(){}},halfrectangle:{init:function(){}},halfpagead:{init:function(){}},interstitial:{init:function(){}},mafolayer:{init:function(){}},mcad:{init:function(){}},minterstitial:{init:function(){}},mvidinterstitial:{init:function(){}},mediumrectangle:{init:function(){}},motionwallpaper:{positionX:0,positionY:0,init:function(){}},panoramaadxl:{positionX:672,positionY:0,init:function(){setTimeout(function e(){R.getElementById("sidebar")?R.getElementById("sidebar").style.marginTop=u.panoramaad.yoffset+"px":setTimeout(e,100)},100)}},sanative:{init:function(e){A.adSlot["tag"+e].debugInfo;w.TFM.adSlot["tag"+e].target.getElementsByTagName("iframe")[0].style.width="100%"}},sidekick:{init:function(){}},sitebar:{params:function(){return sb_coords={left:"",center:A.SiteConfiguration.settings.contentWidth-160+"",top:"160"},site},init:function(){}},skyscraper:{anchorId:"TFM_SKYSCRAPER_ad_container",sticky:1,init:function(){}},sticky_billboard:{init:function(a){logger.enable(),A.Tag.addTagVar("!c","c_out");var r,n,o="rgba(232,232,232,0.88)",t=!0,i=!1,s=!1,d=w.TFM.adSlot["tag"+a].container,l=!1;if(d.childNodes[0].classList.contains("bfa-infolayer")){n=d.childNodes[1],l=!0;d.childNodes[0].style.right;d.childNodes[0].style.right="0px"}else n=d.childNodes[0],l=!1;d.parentNode.parentNode.style.transform="none",d.parentNode.style.position="relative",d.parentNode.style.zIndex=20,d.style.position="relative",d.style.maxWidth="1170px",d.style.width="1170px",d.style.margin="auto",d.style.zIndex="260";var g=R.createElement("a");function c(e){if(e){if(null!=R.getElementById("wx-hero-wrap")&&(R.getElementById("wx-hero-wrap").style.zIndex=250),"90"===A.adSlot["tag"+a].debugInfo.bannerH?d.style.marginBottom="107px":d.style.marginBottom="290px",n.style.backgroundColor=o,n.style.width="1170px",n.style.maxWidth="1170px",n.style.marginLeft="auto",n.parentNode.parentNode.parentNode.parentNode.parentNode.style.transform="none",n.style.position="fixed",n.style.padding="5px",n.style.top="1px",n.style.zIndex=800,l&&(d.childNodes[0].style.position="fixed",d.childNodes[0].style.top="0px",d.childNodes[0].style.right="0px"),i&&(g.style.display="block"),!s){s=!0;var t=setInterval(function(){r<=1?(clearInterval(t),i=!0,this.isSticky&&(g.style.display="block")):r--},1e3)}this.isSticky=!0}else d.style.marginBottom="0px",n.style.backgroundColor="transparent",n.style.position="static",n.style.padding="0px",n.style.margin="0px auto",g.style.display="none",l&&(d.childNodes[0].style.position="absolute",d.childNodes[0].style.top="5px",d.childNodes[0].style.zIndex="1001"),this.isSticky=!1}g.setAttribute("style",'z-index: 2147483647; position: absolute; top: -2px; left: -2px; text-decoration: none; width: 30px; height: 30px; cursor: pointer; background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjIwQjIwRjA3NDIwMTFFN0FCMEVBNzk4MDJCMTRFNDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjIwQjIwRjE3NDIwMTFFN0FCMEVBNzk4MDJCMTRFNDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzNGMUZGRjczOUMxMUU3QUIwRUE3OTgwMkIxNEU0MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzNGMjAwMDczOUMxMUU3QUIwRUE3OTgwMkIxNEU0MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjYi46kAAAGRSURBVHja7Jg9TsMwFIBrwkCOUI4BIwSOUKTmArlFutOOvUEO0A1uUCQYYYeRSjB07ByZ9yQ/ZKLEfnbS6lXiSd8QxT9fkmfHttJajyTFyUhYiBM6tS+UUpw6CXANTIBLYGzA+Da8Ao/AM1D7GvyTNnhBeCIFZsAWqzHZmjqpT+jXgSmUA5sAkSYb00ZvIfyGix4iTeamzSghTPjVgDLEqinFFVrsQcZ+U0FC+R5liJwrlLoSOMsyDdODt0Msg2U9iX7GEZp1NVIUha7rWldV5ZTCe1gGy2Idh1TpE0q65hl8WuyAokuKZCiwjuNNYV+JS+jW99R2NKU4ZVq4cQktfXnR1WGkDLJ0CT1xkrWt40gZZO0S+uAM2TapSBnk3SW0484jXVKBMsjOdhC3HhL/ycQltbhhL25iFPfrEPdzPeTy45O7/DjUAm161EtY2nGIWuST1HxAmfs+26ChN4rTIXeuNPrKiK10SaOJI6RskYDDhivgDrgwBw3n5t6XOWx4Ax6Al9DDBvV/YHVsQj8CDAB8nqwffafxUQAAAABJRU5ErkJggg==) center center no-repeat; backgroundSize="100% 100%"; padding: 7px; display: none'),g.id="close-button",g.addEventListener("click",function(e){c(!1),t=!1,e.target.style.display="none"}),n.appendChild(g),w.addEventListener?w.addEventListener("scroll",function(e){BBTopPosition=u.universal.stickyLooper(),BBTopPosition<=156?c(!1):t&&c(!0)}):w.attachEvent("onscroll",function(e){BBTopPosition=u.universal.stickyLooper(),BBTopPosition<=156?c(!1):t&&c(!0)}),w.addEventListener("message",function(e){try{var t=JSON.parse(e.data)}catch(e){}if(void 0!==t&&void 0!==t.timer&&(r=t.timer),void 0!==t&&void 0!==t.bgColor){var a=t.bgColor;o=u.universal.hexToRgbA(a)}},!1)}},sticky_mca:{init:function(e){A.Tag.addTagVar("!c","c_out");var r,a,n="rgba(232,232,232,0.88)",t=!0,o=!1,i=!1,s=(A.adSlot["tag"+e].debugInfo,w.TFM.adSlot["tag"+e].container),d=!(s.style.position="relative;");if(s.childNodes[0].classList.contains("bfa-infolayer")){a=s.childNodes[1],d=!0;s.childNodes[0].style.right;s.childNodes[0].style.right="0px"}else a=s.childNodes[0],d=!1;s.parentNode.parentNode.style.transform="none",s.style.position="relative",s.style.margin="0px auto",s.style.width="100%";var l=R.createElement("a");function g(e){if(e){if(a.parentNode.parentNode.parentNode.parentNode.parentNode.style.transform="none",s.style.marginBottom="160px",a.style.backgroundColor=n,a.style.position="fixed",a.style.padding="2px",a.style.width="100%",a.style.top="0px",a.style.zIndex=1e3,d&&(s.childNodes[0].style.position="fixed",s.childNodes[0].style.top="0px",s.childNodes[0].style.right="0px",s.childNodes[0].style.zIndex="1000001"),o&&(l.style.display="block"),!i){i=!0;var t=setInterval(function(){r<=1?(clearInterval(t),o=!0,this.isSticky&&(l.style.display="block")):r--},1e3)}this.isSticky=!0}else s.style.marginBottom="0px",a.style.backgroundColor="transparent",a.style.position="static",a.style.padding="0px",l.style.display="none",d&&(s.childNodes[0].style.position="absolute",s.childNodes[0].style.top="0px",s.childNodes[0].style.right="0px",s.childNodes[0].style.zIndex="1000"),this.isSticky=!1}l.setAttribute("style",'z-index: 2147483647; position: absolute; top: 0px; left: 0px; text-decoration: none; width: 30px; height: 30px; cursor: pointer; background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjIwQjIwRjA3NDIwMTFFN0FCMEVBNzk4MDJCMTRFNDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjIwQjIwRjE3NDIwMTFFN0FCMEVBNzk4MDJCMTRFNDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzNGMUZGRjczOUMxMUU3QUIwRUE3OTgwMkIxNEU0MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzNGMjAwMDczOUMxMUU3QUIwRUE3OTgwMkIxNEU0MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjYi46kAAAGRSURBVHja7Jg9TsMwFIBrwkCOUI4BIwSOUKTmArlFutOOvUEO0A1uUCQYYYeRSjB07ByZ9yQ/ZKLEfnbS6lXiSd8QxT9fkmfHttJajyTFyUhYiBM6tS+UUpw6CXANTIBLYGzA+Da8Ao/AM1D7GvyTNnhBeCIFZsAWqzHZmjqpT+jXgSmUA5sAkSYb00ZvIfyGix4iTeamzSghTPjVgDLEqinFFVrsQcZ+U0FC+R5liJwrlLoSOMsyDdODt0Msg2U9iX7GEZp1NVIUha7rWldV5ZTCe1gGy2Idh1TpE0q65hl8WuyAokuKZCiwjuNNYV+JS+jW99R2NKU4ZVq4cQktfXnR1WGkDLJ0CT1xkrWt40gZZO0S+uAM2TapSBnk3SW0484jXVKBMsjOdhC3HhL/ycQltbhhL25iFPfrEPdzPeTy45O7/DjUAm161EtY2nGIWuST1HxAmfs+26ChN4rTIXeuNPrKiK10SaOJI6RskYDDhivgDrgwBw3n5t6XOWx4Ax6Al9DDBvV/YHVsQj8CDAB8nqwffafxUQAAAABJRU5ErkJggg==) center center no-repeat; backgroundSize="100% 100%"; padding: 10px; display: none'),l.id="close-button",l.addEventListener("click",function(e){g(!1),t=!1,e.target.style.display="none"}),a.appendChild(l),w.addEventListener?w.addEventListener("scroll",function(e){bodyHeight=u.universal.getContentHeight(),BBTopPosition=u.universal.stickyLooper(),BBTopPosition<=180?g(!1):t&&g(!0)}):w.attachEvent("onscroll",function(e){bodyHeight=u.universal.getContentHeight(),BBTopPosition=u.universal.stickyLooper(),BBTopPosition<=180?g(!1):t&&g(!0)}),w.addEventListener("message",function(e){try{var t=JSON.parse(e.data)}catch(e){}if(void 0!==t&&void 0!==t.timer&&(r=t.timer),void 0!==t&&void 0!==t.bgColor){var a=t.bgColor;n=u.universal.hexToRgbA(a)}},!1)}},superbanner:{init:function(){}},tabletbb:{init:function(){}},tablethpa:{init:function(){}},tabletinterstitial:{init:function(){}},tabletmr:{init:function(){}},tabletsb:{init:function(){}},tabletvidinterstitial:{init:function(){}},textlink:{init:function(){}},wallpaper:{positionTyp:"banner",positionX:A.Config.contentWidth,positionY:0,platzhalterH:90,offsetX:0,offsetY:0,anchorId:"topbanner",init:function(e){var t=w.TFM.adSlot["tag"+e].container;"undefined"!==w._sp_&&w.adsc_adblocker&&(t=R.getElementById(_sp_.getElementId(w.TFM.adSlot["tag"+e].target)));var a=t.getElementsByTagName("iframe")[0],r=A.adSlot["tag"+e].debugInfo,n=r.sFW,o=r.sFH,i=r.bannerW,s=r.bannerH,d=a.parentNode;if(d.offsetParent)for(;d.offsetLeft,d.offsetTop,d=d.offsetParent;);t.style.height=s+"px",a.style.position="absolute",a.style.backgroundColor="transparent",a.width=n,a.height=o,a.style.left=n===i?this.positionX-n+"px":this.positionX-n+(n-i)+"px";var l=r.bgCo;r.bgCl;""!=l&&void 0!==l&&u.universal.setBackgroundColor(l)}}};A.Mapping={home:["home",{}],local_forecasts:["local_forecasts",{today:["today",{samsung:["samsung",{}],sonstiges:["misc",{}]}],hourly:["hourly",{}],"5_day":["5_day",{}],"10_day":["10_day",{}],weekend:["weekend",{}],more:["more",{}]}],maps:["maps",{}],video:["video",{}],news:["news",{germany:["germany",{}],foreign_countries:["foreign_countries",{}],more:["more",{}]}],science:["science",{environment:["environment",{}],climate:["climate",{}],human:["human",{}],animals:["animals",{}],astronomy:["astronomy",{}],weather_phenomenons:["weather_phenomenons",{}],more:["more",{}]}],travel:["travel",{germany:["germany",{}],europe:["europe",{}],"long-distance_travel":["long-distance_travel",{}],service:["service",{}],winter_sports:["winter_sports",{}],more:["more",{}]}],health:["health",{allergy:["allergy",{}],food:["food",{}],fitness:["fitness",{}],sunblock:["sunblock",{}],psyche:["psyche",{}],more:["more",{}]}],sonstiges:["misc",{}]};var c={sonstiges:["sonstiges","",{}],startseite:["startseite","",{}],testressort1:["testressort1","",{testrubrik1:["","testrubrik1",{}],sonstiges:["","sonstiges",{}]}],testressort2:["testressort2","",{}]};A.Engine.start()}(window,document);
