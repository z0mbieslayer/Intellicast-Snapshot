var Icast = {}; try { window.localStorage === void 0 && (window.browserStorage = { getItem: function (a) { return a && this.hasOwnProperty(a) ? unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)" + escape(a).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"), "$1")) : null }, key: function (a) { return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/, "").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a]) }, setItem: function (a, b) { a && (document.cookie = escape(a) + "=" + escape(b) + "; path=/", this.length = document.cookie.match(/\=/g).length) }, length: 0, removeItem: function (a) { if (a && this.hasOwnProperty(a)) { var b = new Date; b.setDate(b.getDate() - 1), document.cookie = escape(a) + "=; expires=" + b.toGMTString() + "; path=/", this.length-- } }, hasOwnProperty: function (a) { return RegExp("(?:^|;\\s*)" + escape(a).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(document.cookie) } }, window.browserStorage.length = (document.cookie.match(/\=/g) || window.browserStorage).length) } catch (error) { } Icast.Storage = new function () { var c, a = this, b = "WxMap.Storage", d = "__savedMaps"; this.SavedMaps = [], this.IsEnabled = !1, this.GetType = function () { return b }, this.Save = function (a, b) { var d = JSON.stringify(b); return c.setItem(a, d) }, this.Retrieve = function (a) { var b = c && c.getItem(a); if (b === null) return null; var d = JSON.parse(b); return d }, this.Delete = function (a) { return c.removeItem(a) }, this.SaveMap = function (b, c) { c.Id = b, a.SavedMaps.push(c), a.Save(d, a.SavedMaps) }, this.RetrieveMap = function (b, c) { var d = a.SavedMaps, e = !1; if (d === null) return null; for (var f = 0, g = d.length; g > f; f++) d[f].Id === b && (e = f); return e === !1 ? null : c ? [d[e], e] : d[e] }, this.RetrieveMaps = function () { for (var b = [], c = 0, d = a.SavedMaps.length; d > c; c++) { var e = a.SavedMaps[c]; /^\__[a-zA-Z]/.test(e.Id) || b.push(e) } return b }, this.DeleteMap = function (b) { var c = a.RetrieveMap(b, !0)[1]; a.SavedMaps.splice(c, 1), a.Save(d, a.SavedMaps) }, this.MoveMap = function (b, c) { var d = a.SavedMaps, e = c, f = a.RetrieveMap(b, !0)[1]; while (0 > f) f += d.length; while (0 > e) e += d.length; if (e >= d.length) throw { name: "IndexOutOfBoundsException", message: "Index: " + c + " is beyond the bounds of the Saved Maps array" }; d.splice(e, 0, d.splice(f, 1)[0]) }, this.MoveMapUp = function (b) { var c = a.RetrieveMap(b, !0)[1]; a.MoveMap(b, c++) }, this.MoveMapDown = function (b) { var c = a.RetrieveMap(id, !0)[1]; a.MoveMap(b, c--) }, this.MapState = function (a) { var c = "WxMap.Storage.MapState"; this.Id = a, this.Layers = {}, this.LayerOrder = null, this.Animation = null, this.Location = !1, this.Scale = !1, this.GetType = function () { return c } }, this.AnimationState = function () { var b = "WxMap.Storage.AnimationState"; this.PeriodPerFrame = null, this.TotalFrames = null, this.CurrentFrame = null, this.PlayRate = null, this.IsSliding = null, this.Dwell = null, this.EnableLooping = null, this.GetType = function () { return b } }; try { document.cookie = "test=test;expires=" + (new Date).setTime((new Date).getTime + 1e3) + ";path=/", a.IsEnabled = document.cookie == "" ? !1 : !0; var c = window.localStorage || window.browserStorage, e = a.Retrieve(d); e && (a.SavedMaps = e) } catch (f) { c = null, a.IsEnabled = !1 } }